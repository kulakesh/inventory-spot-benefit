import{A as Cn,B as Sn,r as u,am as Mn}from"./index-BO7gA0o6.js";import{o as On,f as kn,s as Pn,c as An,r as tn,b as Dn,g as ut}from"./floating-ui.dom-DcTQ9Mwh.js";var ct,kt;function Br(){if(kt)return ct;kt=1;var e=Cn(),t=Sn(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return ct=r,ct}function et(){return typeof window<"u"}function tt(e){return nn(e)?(e.nodeName||"").toLowerCase():"#document"}function De(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fn(e){var t;return(t=(nn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nn(e){return et()?e instanceof Node||e instanceof De(e).Node:!1}function fe(e){return et()?e instanceof Element||e instanceof De(e).Element:!1}function he(e){return et()?e instanceof HTMLElement||e instanceof De(e).HTMLElement:!1}function ht(e){return!et()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof De(e).ShadowRoot}function Ln(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lt(e){return["html","body","#document"].includes(tt(e))}function Nn(e){return De(e).getComputedStyle(e)}function _n(e){if(tt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ht(e)&&e.host||Fn(e);return ht(t)?t.host:t}function ve(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ne(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&ht(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function rn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function on(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function sn(e){return e.mozInputSource===0&&e.isTrusted?!0:yt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function xt(e){return Vn()?!1:!yt()&&e.width===0&&e.height===0||yt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function un(){return/apple/i.test(navigator.vendor)}function yt(){const e=/android/i;return e.test(rn())||e.test(on())}function Kn(){return rn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Vn(){return on().includes("jsdom/")}function Ke(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Bn(e){return"nativeEvent"in e}function Wn(e){return e.matches("html,body")}function ce(e){return(e==null?void 0:e.ownerDocument)||document}function at(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ye(e){return"composedPath"in e?e.composedPath()[0]:e.target}const qn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function It(e){return he(e)&&e.matches(qn)}function ue(e){e.preventDefault(),e.stopPropagation()}function cn(e){return e?e.getAttribute("role")==="combobox"&&It(e):!1}const Pt=Math.floor;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var $n=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ze=$n.join(","),ln=typeof Element>"u",Ae=ln?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ye=!ln&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Xe=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},jn=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Hn=function(t,n,r){if(Xe(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(ze));return n&&Ae.call(t,ze)&&o.unshift(t),o=o.filter(r),o},Un=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Xe(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),m=c.length?c:s.children,l=e(m,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else{var d=Ae.call(s,ze);d&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var b=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),p=!Xe(b,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(b&&p){var a=e(b===!0?s.children:b.children,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else i.unshift.apply(i,s.children)}}return o},an=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},fn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||jn(t))&&!an(t)?0:t.tabIndex},Gn=function(t,n){var r=fn(t);return r<0&&n&&!an(t)?0:r},zn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},dn=function(t){return t.tagName==="INPUT"},Yn=function(t){return dn(t)&&t.type==="hidden"},Xn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Zn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Jn=function(t){if(!t.name)return!0;var n=t.form||Ye(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Zn(o,t.form);return!i||i===t},Qn=function(t){return dn(t)&&t.type==="radio"},er=function(t){return Qn(t)&&!Jn(t)},tr=function(t){var n,r=t&&Ye(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,m;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(m=t.ownerDocument)!==null&&m!==void 0&&m.contains(t));!i&&o;){var l,d,b;r=Ye(o),o=(l=r)===null||l===void 0?void 0:l.host,i=!!((d=o)!==null&&d!==void 0&&(b=d.ownerDocument)!==null&&b!==void 0&&b.contains(o))}}return i},At=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},nr=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Ae.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Ae.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var m=t.parentElement,l=Ye(t);if(m&&!m.shadowRoot&&o(m)===!0)return At(t);t.assignedSlot?t=t.assignedSlot:!m&&l!==t.ownerDocument?t=l.host:t=m}t=c}if(tr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return At(t);return!1},rr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Ae.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},or=function(t,n){return!(n.disabled||Xe(n)||Yn(n)||nr(n,t)||Xn(n)||rr(n))},Rt=function(t,n){return!(er(n)||fn(n)<0||!or(t,n))},sr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ir=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,m=Gn(c,s),l=s?e(o.candidates):c;m===0?s?n.push.apply(n,l):n.push(c):r.push({documentOrder:i,tabIndex:m,item:o,isScope:s,content:l})}),r.sort(zn).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},nt=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Un([t],n.includeContainer,{filter:Rt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:sr}):r=Hn(t,n.includeContainer,Rt.bind(null,n)),ir(r)},ur=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ae.call(t,ze)===!1?!1:Rt(n,t)},Ue=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ze(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ze(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function mn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dt(e,t){const n=mn(e);return Math.round(t*n)/n}function ft(e){const t=u.useRef(e);return Ue(()=>{t.current=e}),t}function cr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:m,open:l}=e,[d,b]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,a]=u.useState(r);Ze(p,r)||a(r);const[g,f]=u.useState(null),[T,k]=u.useState(null),P=u.useCallback(w=>{w!==D.current&&(D.current=w,f(w))},[]),h=u.useCallback(w=>{w!==$.current&&($.current=w,k(w))},[]),C=i||g,W=s||T,D=u.useRef(null),$=u.useRef(null),X=u.useRef(d),q=m!=null,O=ft(m),G=ft(o),F=ft(l),I=u.useCallback(()=>{if(!D.current||!$.current)return;const w={placement:t,strategy:n,middleware:p};G.current&&(w.platform=G.current),An(D.current,$.current,w).then(R=>{const M={...R,isPositioned:F.current!==!1};v.current&&!Ze(X.current,M)&&(X.current=M,tn.flushSync(()=>{b(M)}))})},[p,t,n,G,F]);Ue(()=>{l===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,b(w=>({...w,isPositioned:!1})))},[l]);const v=u.useRef(!1);Ue(()=>(v.current=!0,()=>{v.current=!1}),[]),Ue(()=>{if(C&&(D.current=C),W&&($.current=W),C&&W){if(O.current)return O.current(C,W,I);I()}},[C,W,I,O,q]);const S=u.useMemo(()=>({reference:D,floating:$,setReference:P,setFloating:h}),[P,h]),x=u.useMemo(()=>({reference:C,floating:W}),[C,W]),E=u.useMemo(()=>{const w={position:n,left:0,top:0};if(!x.floating)return w;const R=Dt(x.floating,d.x),M=Dt(x.floating,d.y);return c?{...w,transform:"translate("+R+"px, "+M+"px)",...mn(x.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:M}},[n,c,x.floating,d.x,d.y]);return u.useMemo(()=>({...d,update:I,refs:S,elements:x,floatingStyles:E}),[d,I,S,x,E])}const Wr=(e,t)=>({...On(e),options:[e,t]}),qr=(e,t)=>({...Pn(e),options:[e,t]}),$r=(e,t)=>({...kn(e),options:[e,t]}),jr=(e,t)=>({...Dn(e),options:[e,t]});function Ft(e){return u.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const pn={...Mn},lr=pn.useInsertionEffect,ar=lr||(e=>e());function se(e){const t=u.useRef(()=>{});return ar(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Tt="ArrowUp",Ve="ArrowDown",we="ArrowLeft",xe="ArrowRight";function $e(e,t,n){return Math.floor(e/t)!==n}function Ne(e,t){return t<0||t>=e.current.length}function dt(e,t){return ae(e,{disabledIndices:t})}function Lt(e,t){return ae(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ae(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do c+=r?-i:i;while(c>=0&&c<=s.length-1&&Ge(s,c,o));return c}function fr(e,t){let{event:n,orientation:r,loop:o,rtl:i,cols:s,disabledIndices:c,minIndex:m,maxIndex:l,prevIndex:d,stopEvent:b=!1}=t,p=d;if(n.key===Tt){if(b&&ue(n),d===-1)p=l;else if(p=ae(e,{startingIndex:p,amount:s,decrement:!0,disabledIndices:c}),o&&(d-s<m||p<0)){const a=d%s,g=l%s,f=l-(g-a);g===a?p=l:p=g>a?f:f-s}Ne(e,p)&&(p=d)}if(n.key===Ve&&(b&&ue(n),d===-1?p=m:(p=ae(e,{startingIndex:d,amount:s,disabledIndices:c}),o&&d+s>l&&(p=ae(e,{startingIndex:d%s-s,amount:s,disabledIndices:c}))),Ne(e,p)&&(p=d)),r==="both"){const a=Pt(d/s);n.key===(i?we:xe)&&(b&&ue(n),d%s!==s-1?(p=ae(e,{startingIndex:d,disabledIndices:c}),o&&$e(p,s,a)&&(p=ae(e,{startingIndex:d-d%s-1,disabledIndices:c}))):o&&(p=ae(e,{startingIndex:d-d%s-1,disabledIndices:c})),$e(p,s,a)&&(p=d)),n.key===(i?xe:we)&&(b&&ue(n),d%s!==0?(p=ae(e,{startingIndex:d,decrement:!0,disabledIndices:c}),o&&$e(p,s,a)&&(p=ae(e,{startingIndex:d+(s-d%s),decrement:!0,disabledIndices:c}))):o&&(p=ae(e,{startingIndex:d+(s-d%s),decrement:!0,disabledIndices:c})),$e(p,s,a)&&(p=d));const g=Pt(l/s)===a;Ne(e,p)&&(o&&g?p=n.key===(i?xe:we)?l:ae(e,{startingIndex:d-d%s-1,disabledIndices:c}):p=d)}return p}function dr(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:m}=i,l=!1;for(n&&(o=0);!l;){const d=[];for(let b=0;b<c;b++)for(let p=0;p<m;p++)d.push(o+b+p*t);o%t+c<=t&&d.every(b=>r[b]==null)?(d.forEach(b=>{r[b]=s}),l=!0):o++}}),[...r]}function mr(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e),s=t[e];switch(o){case"tl":return i;case"tr":return s?i+s.width-1:i;case"bl":return s?i+(s.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function pr(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function Ge(e,t,n){if(n)return n.includes(t);const r=e[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var Y=typeof document<"u"?u.useLayoutEffect:u.useEffect;function gr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function vr(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const gn=u.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Hr(e){const{children:t,elementsRef:n,labelsRef:r}=e,[o,i]=u.useState(()=>new Map),s=u.useCallback(m=>{i(l=>new Map(l).set(m,null))},[]),c=u.useCallback(m=>{i(l=>{const d=new Map(l);return d.delete(m),d})},[]);return Y(()=>{const m=new Map(o);Array.from(m.keys()).sort(gr).forEach((d,b)=>{m.set(d,b)}),vr(o,m)||i(m)},[o]),u.createElement(gn.Provider,{value:u.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function Ur(e){e===void 0&&(e={});const{label:t}=e,{register:n,unregister:r,map:o,elementsRef:i,labelsRef:s}=u.useContext(gn),[c,m]=u.useState(null),l=u.useRef(null),d=u.useCallback(b=>{if(l.current=b,c!==null&&(i.current[c]=b,s)){var p;const a=t!==void 0;s.current[c]=a?t:(p=b==null?void 0:b.textContent)!=null?p:null}},[c,i,s,t]);return Y(()=>{const b=l.current;if(b)return n(b),()=>{r(b)}},[n,r]),Y(()=>{const b=l.current?o.get(l.current):null;b!=null&&m(b)},[o]),u.useMemo(()=>({ref:d,index:c??-1}),[c,d])}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}let Nt=!1,br=0;const _t=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+br++;function hr(){const[e,t]=u.useState(()=>Nt?_t():void 0);return Y(()=>{e==null&&t(_t())},[]),u.useEffect(()=>{Nt=!0},[]),e}const yr=pn.useId,rt=yr||hr;function vn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const bn=u.createContext(null),hn=u.createContext(null),Fe=()=>{var e;return((e=u.useContext(bn))==null?void 0:e.id)||null},Le=()=>u.useContext(hn);function Gr(e){const t=rt(),n=Le(),o=Fe();return Y(()=>{if(!t)return;const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t}function zr(e){const{children:t,id:n}=e,r=Fe();return u.createElement(bn.Provider,{value:u.useMemo(()=>({id:n,parentId:r}),[n,r])},t)}function Yr(e){const{children:t}=e,n=u.useRef([]),r=u.useCallback(s=>{n.current=[...n.current,s]},[]),o=u.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=u.useState(()=>vn())[0];return u.createElement(hn.Provider,{value:u.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[r,o,i])},t)}function Me(e){return"data-floating-ui-"+e}function le(e){const t=u.useRef(e);return Y(()=>{t.current=e}),t}const Kt=Me("safe-polygon");function mt(e,t,n){return n&&!Ke(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Xr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=e,{enabled:c=!0,delay:m=0,handleClose:l=null,mouseOnly:d=!1,restMs:b=0,move:p=!0}=t,a=Le(),g=Fe(),f=le(l),T=le(m),k=le(n),P=u.useRef(),h=u.useRef(-1),C=u.useRef(),W=u.useRef(-1),D=u.useRef(!0),$=u.useRef(!1),X=u.useRef(()=>{}),q=u.useRef(!1),O=u.useCallback(()=>{var E;const w=(E=o.current.openEvent)==null?void 0:E.type;return(w==null?void 0:w.includes("mouse"))&&w!=="mousedown"},[o]);u.useEffect(()=>{if(!c)return;function E(w){let{open:R}=w;R||(clearTimeout(h.current),clearTimeout(W.current),D.current=!0,q.current=!1)}return i.on("openchange",E),()=>{i.off("openchange",E)}},[c,i]),u.useEffect(()=>{if(!c||!f.current||!n)return;function E(R){O()&&r(!1,R,"hover")}const w=ce(s.floating).documentElement;return w.addEventListener("mouseleave",E),()=>{w.removeEventListener("mouseleave",E)}},[s.floating,n,r,c,f,O]);const G=u.useCallback(function(E,w,R){w===void 0&&(w=!0),R===void 0&&(R="hover");const M=mt(T.current,"close",P.current);M&&!C.current?(clearTimeout(h.current),h.current=window.setTimeout(()=>r(!1,E,R),M)):w&&(clearTimeout(h.current),r(!1,E,R))},[T,r]),F=se(()=>{X.current(),C.current=void 0}),I=se(()=>{if($.current){const E=ce(s.floating).body;E.style.pointerEvents="",E.removeAttribute(Kt),$.current=!1}}),v=se(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);u.useEffect(()=>{if(!c)return;function E(y){if(clearTimeout(h.current),D.current=!1,d&&!Ke(P.current)||b>0&&!mt(T.current,"open"))return;const V=mt(T.current,"open",P.current);V?h.current=window.setTimeout(()=>{k.current||r(!0,y,"hover")},V):n||r(!0,y,"hover")}function w(y){if(v())return;X.current();const V=ce(s.floating);if(clearTimeout(W.current),q.current=!1,f.current&&o.current.floatingContext){n||clearTimeout(h.current),C.current=f.current({...o.current.floatingContext,tree:a,x:y.clientX,y:y.clientY,onClose(){I(),F(),v()||G(y,!0,"safe-polygon")}});const oe=C.current;V.addEventListener("mousemove",oe),X.current=()=>{V.removeEventListener("mousemove",oe)};return}(P.current==="touch"?!ne(s.floating,y.relatedTarget):!0)&&G(y)}function R(y){v()||o.current.floatingContext&&(f.current==null||f.current({...o.current.floatingContext,tree:a,x:y.clientX,y:y.clientY,onClose(){I(),F(),v()||G(y)}})(y))}if(fe(s.domReference)){var M;const y=s.domReference;return n&&y.addEventListener("mouseleave",R),(M=s.floating)==null||M.addEventListener("mouseleave",R),p&&y.addEventListener("mousemove",E,{once:!0}),y.addEventListener("mouseenter",E),y.addEventListener("mouseleave",w),()=>{var V;n&&y.removeEventListener("mouseleave",R),(V=s.floating)==null||V.removeEventListener("mouseleave",R),p&&y.removeEventListener("mousemove",E),y.removeEventListener("mouseenter",E),y.removeEventListener("mouseleave",w)}}},[s,c,e,d,b,p,G,F,I,r,n,k,a,T,f,o,v]),Y(()=>{var E;if(c&&n&&(E=f.current)!=null&&E.__options.blockPointerEvents&&O()){$.current=!0;const R=s.floating;if(fe(s.domReference)&&R){var w;const M=ce(s.floating).body;M.setAttribute(Kt,"");const y=s.domReference,V=a==null||(w=a.nodesRef.current.find(ee=>ee.id===g))==null||(w=w.context)==null?void 0:w.elements.floating;return V&&(V.style.pointerEvents=""),M.style.pointerEvents="none",y.style.pointerEvents="auto",R.style.pointerEvents="auto",()=>{M.style.pointerEvents="",y.style.pointerEvents="",R.style.pointerEvents=""}}}},[c,n,g,s,a,f,O]),Y(()=>{n||(P.current=void 0,q.current=!1,F(),I())},[n,F,I]),u.useEffect(()=>()=>{F(),clearTimeout(h.current),clearTimeout(W.current),I()},[c,s.domReference,F,I]);const S=u.useMemo(()=>{function E(w){P.current=w.pointerType}return{onPointerDown:E,onPointerEnter:E,onMouseMove(w){const{nativeEvent:R}=w;function M(){!D.current&&!k.current&&r(!0,R,"hover")}d&&!Ke(P.current)||n||b===0||q.current&&w.movementX**2+w.movementY**2<2||(clearTimeout(W.current),P.current==="touch"?M():(q.current=!0,W.current=window.setTimeout(M,b)))}}},[d,r,n,k,b]),x=u.useMemo(()=>({onMouseEnter(){clearTimeout(h.current)},onMouseLeave(E){v()||G(E.nativeEvent,!1)}}),[G,v]);return u.useMemo(()=>c?{reference:S,floating:x}:{},[c,S,x])}let Vt=0;function Te(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Vt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Vt=requestAnimationFrame(i)}function Bt(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Se(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Rr(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Se(e,i).forEach(m=>{o(m.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let ke=new WeakMap,je=new WeakSet,He={},pt=0;const Er=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,yn=e=>e&&(e.host||yn(e.parentNode)),wr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=yn(n);return e.contains(r)?r:null}).filter(n=>n!=null);function xr(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=wr(t,e),c=new Set,m=new Set(s),l=[];He[o]||(He[o]=new WeakMap);const d=He[o];s.forEach(b),p(t),c.clear();function b(a){!a||c.has(a)||(c.add(a),a.parentNode&&b(a.parentNode))}function p(a){!a||m.has(a)||[].forEach.call(a.children,g=>{if(tt(g)!=="script")if(c.has(g))p(g);else{const f=i?g.getAttribute(i):null,T=f!==null&&f!=="false",k=ke.get(g)||0,P=i?k+1:k,h=(d.get(g)||0)+1;ke.set(g,P),d.set(g,h),l.push(g),P===1&&T&&je.add(g),h===1&&g.setAttribute(o,""),!T&&i&&g.setAttribute(i,"true")}})}return pt++,()=>{l.forEach(a=>{const g=ke.get(a)||0,f=i?g-1:g,T=(d.get(a)||0)-1;ke.set(a,f),d.set(a,T),f||(!je.has(a)&&i&&a.removeAttribute(i),je.delete(a)),T||a.removeAttribute(o)}),pt--,pt||(ke=new WeakMap,ke=new WeakMap,je=new WeakSet,He={})}}function Wt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=ce(e[0]).body;return xr(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const ot=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Rn(e,t){const n=nt(e,ot());t==="prev"&&n.reverse();const r=n.indexOf(ve(ce(e)));return n.slice(r+1)[0]}function En(){return Rn(document.body,"next")}function wn(){return Rn(document.body,"prev")}function _e(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ne(n,r)}function Ir(e){nt(e,ot()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function qt(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const st={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Tr;function $t(e){e.key==="Tab"&&(e.target,clearTimeout(Tr))}const Qe=u.forwardRef(function(t,n){const[r,o]=u.useState();Y(()=>(un()&&o("button"),document.addEventListener("keydown",$t),()=>{document.removeEventListener("keydown",$t)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Me("focus-guard")]:"",style:st};return u.createElement("span",Je({},t,i))}),xn=u.createContext(null),jt=Me("portal");function Cr(e){e===void 0&&(e={});const{id:t,root:n}=e,r=rt(),o=In(),[i,s]=u.useState(null),c=u.useRef(null);return Y(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{c.current=null})},[i]),Y(()=>{if(!r||c.current)return;const m=t?document.getElementById(t):null;if(!m)return;const l=document.createElement("div");l.id=r,l.setAttribute(jt,""),m.appendChild(l),c.current=l,s(l)},[t,r]),Y(()=>{if(n===null||!r||c.current)return;let m=n||(o==null?void 0:o.portalNode);m&&!fe(m)&&(m=m.current),m=m||document.body;let l=null;t&&(l=document.createElement("div"),l.id=t,m.appendChild(l));const d=document.createElement("div");d.id=r,d.setAttribute(jt,""),m=l||m,m.appendChild(d),c.current=d,s(d)},[t,n,r,o]),i}function Zr(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,i=Cr({id:n,root:r}),[s,c]=u.useState(null),m=u.useRef(null),l=u.useRef(null),d=u.useRef(null),b=u.useRef(null),p=s==null?void 0:s.modal,a=s==null?void 0:s.open,g=!!s&&!s.modal&&s.open&&o&&!!(r||i);return u.useEffect(()=>{if(!i||!o||p)return;function f(T){i&&_e(T)&&(T.type==="focusin"?qt:Ir)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,o,p]),u.useEffect(()=>{i&&(a||qt(i))},[a,i]),u.createElement(xn.Provider,{value:u.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:m,afterOutsideRef:l,beforeInsideRef:d,afterInsideRef:b,portalNode:i,setFocusManagerState:c}),[o,i])},g&&i&&u.createElement(Qe,{"data-type":"outside",ref:m,onFocus:f=>{if(_e(f,i)){var T;(T=d.current)==null||T.focus()}else{const k=wn()||(s==null?void 0:s.refs.domReference.current);k==null||k.focus()}}}),g&&i&&u.createElement("span",{"aria-owns":i.id,style:st}),i&&tn.createPortal(t,i),g&&i&&u.createElement(Qe,{"data-type":"outside",ref:l,onFocus:f=>{if(_e(f,i)){var T;(T=b.current)==null||T.focus()}else{const k=En()||(s==null?void 0:s.refs.domReference.current);k==null||k.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,f.nativeEvent,"focus-out"))}}}))}const In=()=>u.useContext(xn),Et="data-floating-ui-focusable";function wt(e){return e?e.hasAttribute(Et)?e:e.querySelector("["+Et+"]")||e:null}const Sr=20;let Ce=[];function gt(e){Ce=Ce.filter(t=>t.isConnected),e&&tt(e)!=="body"&&(Ce.push(e),Ce.length>Sr&&(Ce=Ce.slice(-20)))}function Ht(){return Ce.slice().reverse().find(e=>e.isConnected)}function Mr(e){const t=ot();return ur(e,t)?e:nt(e,t)[0]||e}const Or=u.forwardRef(function(t,n){return u.createElement("button",Je({},t,{type:"button",ref:n,tabIndex:-1,style:st}))});function Jr(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,restoreFocus:m=!1,modal:l=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:b=!0,outsideElementsInert:p=!1}=e,{open:a,refs:g,nodeId:f,onOpenChange:T,events:k,dataRef:P,elements:{domReference:h,floating:C}}=t,W=typeof s=="number"&&s<0,D=cn(h)&&W,$=Er(),X=$?i:!0,q=!X||$&&p,O=le(o),G=le(s),F=le(c),I=Le(),v=In(),S=u.useRef(null),x=u.useRef(null),E=u.useRef(!1),w=u.useRef(!1),R=u.useRef(-1),M=v!=null,y=wt(C),V=se(function(N){return N===void 0&&(N=y),N?nt(N,ot()):[]}),ee=se(N=>{const _=V(N);return O.current.map(L=>h&&L==="reference"?h:y&&L==="floating"?y:_).filter(Boolean).flat()});u.useEffect(()=>{if(r||!l)return;function N(L){if(L.key==="Tab"){ne(y,ve(ce(y)))&&V().length===0&&!D&&ue(L);const H=ee(),Z=ye(L);O.current[0]==="reference"&&Z===h&&(ue(L),L.shiftKey?Te(H[H.length-1]):Te(H[1])),O.current[1]==="floating"&&Z===y&&L.shiftKey&&(ue(L),Te(H[0]))}}const _=ce(y);return _.addEventListener("keydown",N),()=>{_.removeEventListener("keydown",N)}},[r,h,y,l,O,D,V,ee]),u.useEffect(()=>{if(r||!C)return;function N(_){const L=ye(_),Z=V().indexOf(L);Z!==-1&&(R.current=Z)}return C.addEventListener("focusin",N),()=>{C.removeEventListener("focusin",N)}},[r,C,V]),u.useEffect(()=>{if(r||!b)return;function N(){w.current=!0,setTimeout(()=>{w.current=!1})}function _(L){const H=L.relatedTarget;queueMicrotask(()=>{const Z=!(ne(h,H)||ne(C,H)||ne(H,C)||ne(v==null?void 0:v.portalNode,H)||H!=null&&H.hasAttribute(Me("focus-guard"))||I&&(Se(I.nodesRef.current,f).find(z=>{var J,pe;return ne((J=z.context)==null?void 0:J.elements.floating,H)||ne((pe=z.context)==null?void 0:pe.elements.domReference,H)})||Bt(I.nodesRef.current,f).find(z=>{var J,pe,ge;return[(J=z.context)==null?void 0:J.elements.floating,wt((pe=z.context)==null?void 0:pe.elements.floating)].includes(H)||((ge=z.context)==null?void 0:ge.elements.domReference)===H})));if(m&&Z&&ve(ce(y))===ce(y).body){he(y)&&y.focus();const z=R.current,J=V(),pe=J[z]||J[J.length-1]||y;he(pe)&&pe.focus()}(D||!l)&&H&&Z&&!w.current&&H!==Ht()&&(E.current=!0,T(!1,L,"focus-out"))})}if(C&&he(h))return h.addEventListener("focusout",_),h.addEventListener("pointerdown",N),C.addEventListener("focusout",_),()=>{h.removeEventListener("focusout",_),h.removeEventListener("pointerdown",N),C.removeEventListener("focusout",_)}},[r,h,C,y,l,f,I,v,T,b,m,V,D]);const oe=u.useRef(null),me=u.useRef(null),re=Ft([oe,v==null?void 0:v.beforeInsideRef]),te=Ft([me,v==null?void 0:v.afterInsideRef]);u.useEffect(()=>{var N;if(r||!C)return;const _=Array.from((v==null||(N=v.portalNode)==null?void 0:N.querySelectorAll("["+Me("portal")+"]"))||[]),L=I&&!l?Bt(I==null?void 0:I.nodesRef.current,f).map(z=>{var J;return(J=z.context)==null?void 0:J.elements.floating}):[],H=[C,..._,...L,S.current,x.current,oe.current,me.current,v==null?void 0:v.beforeOutsideRef.current,v==null?void 0:v.afterOutsideRef.current,O.current.includes("reference")||D?h:null].filter(z=>z!=null),Z=l||D?Wt(H,!q,q):Wt(H);return()=>{Z()}},[r,h,C,l,O,v,D,X,q,I,f]),Y(()=>{if(r||!he(y))return;const N=ce(y),_=ve(N);queueMicrotask(()=>{const L=ee(y),H=G.current,Z=(typeof H=="number"?L[H]:H.current)||y,z=ne(y,_);!W&&!z&&a&&Te(Z,{preventScroll:Z===y})})},[r,a,y,W,ee,G]),Y(()=>{if(r||!y)return;let N=!1;const _=ce(y),L=ve(_);let Z=P.current.openEvent;gt(L);function z(ge){let{open:K,reason:U,event:A,nested:B}=ge;K&&(Z=A),U==="escape-key"&&g.domReference.current&&gt(g.domReference.current),["hover","safe-polygon"].includes(U)&&A.type==="mouseleave"&&(E.current=!0),U==="outside-press"&&(B?(E.current=!1,N=!0):E.current=!(sn(A)||xt(A)))}k.on("openchange",z);const J=_.createElement("span");J.setAttribute("tabindex","-1"),J.setAttribute("aria-hidden","true"),Object.assign(J.style,st),M&&h&&h.insertAdjacentElement("afterend",J);function pe(){return typeof F.current=="boolean"?Ht()||J:F.current.current||J}return()=>{k.off("openchange",z);const ge=ve(_),K=ne(C,ge)||I&&Se(I.nodesRef.current,f).some(B=>{var ie;return ne((ie=B.context)==null?void 0:ie.elements.floating,ge)});(K||Z&&["click","mousedown"].includes(Z.type))&&g.domReference.current&&gt(g.domReference.current);const A=pe();queueMicrotask(()=>{const B=Mr(A);F.current&&!E.current&&he(B)&&(!(B!==ge&&ge!==_.body)||K)&&B.focus({preventScroll:N}),J.remove()})}},[r,C,y,F,P,g,k,I,f,M,h]),u.useEffect(()=>{queueMicrotask(()=>{E.current=!1})},[r]),Y(()=>{if(!r&&v)return v.setFocusManagerState({modal:l,closeOnFocusOut:b,open:a,onOpenChange:T,refs:g}),()=>{v.setFocusManagerState(null)}},[r,v,l,a,T,g,b]),Y(()=>{if(r||!y||typeof MutationObserver!="function"||W)return;const N=()=>{const L=y.getAttribute("tabindex"),H=V(),Z=ve(ce(C)),z=H.indexOf(Z);z!==-1&&(R.current=z),O.current.includes("floating")||Z!==g.domReference.current&&H.length===0?L!=="0"&&y.setAttribute("tabindex","0"):L!=="-1"&&y.setAttribute("tabindex","-1")};N();const _=new MutationObserver(N);return _.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{_.disconnect()}},[r,C,y,g,O,V,W]);function j(N){return r||!d||!l?null:u.createElement(Or,{ref:N==="start"?S:x,onClick:_=>T(!1,_.nativeEvent)},typeof d=="string"?d:"Dismiss")}const Q=!r&&X&&(l?!D:!0)&&(M||l);return u.createElement(u.Fragment,null,Q&&u.createElement(Qe,{"data-type":"inside",ref:re,onFocus:N=>{if(l){const L=ee();Te(o[0]==="reference"?L[0]:L[L.length-1])}else if(v!=null&&v.preserveTabOrder&&v.portalNode)if(E.current=!1,_e(N,v.portalNode)){const L=En()||h;L==null||L.focus()}else{var _;(_=v.beforeOutsideRef.current)==null||_.focus()}}}),!D&&j("start"),n,j("end"),Q&&u.createElement(Qe,{"data-type":"inside",ref:te,onFocus:N=>{if(l)Te(ee()[0]);else if(v!=null&&v.preserveTabOrder&&v.portalNode)if(b&&(E.current=!0),_e(N,v.portalNode)){const L=wn()||h;L==null||L.focus()}else{var _;(_=v.afterOutsideRef.current)==null||_.focus()}}}))}function Ut(e){return he(e.target)&&e.target.tagName==="BUTTON"}function Gt(e){return It(e)}function Qr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:m=!0,ignoreMouse:l=!1,keyboardHandlers:d=!0,stickIfOpen:b=!0}=t,p=u.useRef(),a=u.useRef(!1),g=u.useMemo(()=>({onPointerDown(f){p.current=f.pointerType},onMouseDown(f){const T=p.current;f.button===0&&c!=="click"&&(Ke(T,!0)&&l||(n&&m&&(!(o.current.openEvent&&b)||o.current.openEvent.type==="mousedown")?r(!1,f.nativeEvent,"click"):(f.preventDefault(),r(!0,f.nativeEvent,"click"))))},onClick(f){const T=p.current;if(c==="mousedown"&&p.current){p.current=void 0;return}Ke(T,!0)&&l||(n&&m&&(!(o.current.openEvent&&b)||o.current.openEvent.type==="click")?r(!1,f.nativeEvent,"click"):r(!0,f.nativeEvent,"click"))},onKeyDown(f){p.current=void 0,!(f.defaultPrevented||!d||Ut(f))&&(f.key===" "&&!Gt(i)&&(f.preventDefault(),a.current=!0),f.key==="Enter"&&r(!(n&&m),f.nativeEvent,"click"))},onKeyUp(f){f.defaultPrevented||!d||Ut(f)||Gt(i)||f.key===" "&&a.current&&(a.current=!1,r(!(n&&m),f.nativeEvent,"click"))}}),[o,i,c,l,d,r,n,b,m]);return u.useMemo(()=>s?{reference:g}:{},[s,g])}const kr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Pr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},zt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function eo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:c=!0,outsidePress:m=!0,outsidePressEvent:l="pointerdown",referencePress:d=!1,referencePressEvent:b="pointerdown",ancestorScroll:p=!1,bubbles:a,capture:g}=t,f=Le(),T=se(typeof m=="function"?m:()=>!1),k=typeof m=="function"?T:m,P=u.useRef(!1),h=u.useRef(!1),{escapeKey:C,outsidePress:W}=zt(a),{escapeKey:D,outsidePress:$}=zt(g),X=u.useRef(!1),q=se(S=>{var x;if(!n||!s||!c||S.key!=="Escape"||X.current)return;const E=(x=i.current.floatingContext)==null?void 0:x.nodeId,w=f?Se(f.nodesRef.current,E):[];if(!C&&(S.stopPropagation(),w.length>0)){let R=!0;if(w.forEach(M=>{var y;if((y=M.context)!=null&&y.open&&!M.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}r(!1,Bn(S)?S.nativeEvent:S,"escape-key")}),O=se(S=>{var x;const E=()=>{var w;q(S),(w=ye(S))==null||w.removeEventListener("keydown",E)};(x=ye(S))==null||x.addEventListener("keydown",E)}),G=se(S=>{var x;const E=P.current;P.current=!1;const w=h.current;if(h.current=!1,l==="click"&&w||E||typeof k=="function"&&!k(S))return;const R=ye(S),M="["+Me("inert")+"]",y=ce(o.floating).querySelectorAll(M);let V=fe(R)?R:null;for(;V&&!lt(V);){const re=_n(V);if(lt(re)||!fe(re))break;V=re}if(y.length&&fe(R)&&!Wn(R)&&!ne(R,o.floating)&&Array.from(y).every(re=>!ne(V,re)))return;if(he(R)&&v){const re=lt(R),te=Nn(R),j=/auto|scroll/,Q=re||j.test(te.overflowX),N=re||j.test(te.overflowY),_=Q&&R.clientWidth>0&&R.scrollWidth>R.clientWidth,L=N&&R.clientHeight>0&&R.scrollHeight>R.clientHeight,H=te.direction==="rtl",Z=L&&(H?S.offsetX<=R.offsetWidth-R.clientWidth:S.offsetX>R.clientWidth),z=_&&S.offsetY>R.clientHeight;if(Z||z)return}const ee=(x=i.current.floatingContext)==null?void 0:x.nodeId,oe=f&&Se(f.nodesRef.current,ee).some(re=>{var te;return at(S,(te=re.context)==null?void 0:te.elements.floating)});if(at(S,o.floating)||at(S,o.domReference)||oe)return;const me=f?Se(f.nodesRef.current,ee):[];if(me.length>0){let re=!0;if(me.forEach(te=>{var j;if((j=te.context)!=null&&j.open&&!te.context.dataRef.current.__outsidePressBubbles){re=!1;return}}),!re)return}r(!1,S,"outside-press")}),F=se(S=>{var x;const E=()=>{var w;G(S),(w=ye(S))==null||w.removeEventListener(l,E)};(x=ye(S))==null||x.addEventListener(l,E)});u.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=C,i.current.__outsidePressBubbles=W;let S=-1;function x(y){r(!1,y,"ancestor-scroll")}function E(){window.clearTimeout(S),X.current=!0}function w(){S=window.setTimeout(()=>{X.current=!1},Ln()?5:0)}const R=ce(o.floating);c&&(R.addEventListener("keydown",D?O:q,D),R.addEventListener("compositionstart",E),R.addEventListener("compositionend",w)),k&&R.addEventListener(l,$?F:G,$);let M=[];return p&&(fe(o.domReference)&&(M=ut(o.domReference)),fe(o.floating)&&(M=M.concat(ut(o.floating))),!fe(o.reference)&&o.reference&&o.reference.contextElement&&(M=M.concat(ut(o.reference.contextElement)))),M=M.filter(y=>{var V;return y!==((V=R.defaultView)==null?void 0:V.visualViewport)}),M.forEach(y=>{y.addEventListener("scroll",x,{passive:!0})}),()=>{c&&(R.removeEventListener("keydown",D?O:q,D),R.removeEventListener("compositionstart",E),R.removeEventListener("compositionend",w)),k&&R.removeEventListener(l,$?F:G,$),M.forEach(y=>{y.removeEventListener("scroll",x)}),window.clearTimeout(S)}},[i,o,c,k,l,n,r,p,s,C,W,q,D,O,G,$,F]),u.useEffect(()=>{P.current=!1},[k,l]);const I=u.useMemo(()=>({onKeyDown:q,...d&&{[kr[b]]:S=>{r(!1,S.nativeEvent,"reference-press")},...b!=="click"&&{onClick(S){r(!1,S.nativeEvent,"reference-press")}}}}),[q,r,d,b]),v=u.useMemo(()=>({onKeyDown:q,onMouseDown(){h.current=!0},onMouseUp(){h.current=!0},[Pr[l]]:()=>{P.current=!0}}),[q,l]);return u.useMemo(()=>s?{reference:I,floating:v}:{},[s,I,v])}function Ar(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=rt(),i=u.useRef({}),[s]=u.useState(()=>vn()),c=Fe()!=null,[m,l]=u.useState(r.reference),d=se((a,g,f)=>{i.current.openEvent=a?g:void 0,s.emit("openchange",{open:a,event:g,reason:f,nested:c}),n==null||n(a,g,f)}),b=u.useMemo(()=>({setPositionReference:l}),[]),p=u.useMemo(()=>({reference:m||r.reference||null,floating:r.floating||null,domReference:r.reference}),[m,r.reference,r.floating]);return u.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:s,floatingId:o,refs:b}),[t,d,p,s,o,b])}function to(e){e===void 0&&(e={});const{nodeId:t}=e,n=Ar({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=u.useState(null),[c,m]=u.useState(null),d=(o==null?void 0:o.domReference)||i,b=u.useRef(null),p=Le();Y(()=>{d&&(b.current=d)},[d]);const a=cr({...e,elements:{...o,...c&&{reference:c}}}),g=u.useCallback(h=>{const C=fe(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;m(C),a.refs.setReference(C)},[a.refs]),f=u.useCallback(h=>{(fe(h)||h===null)&&(b.current=h,s(h)),(fe(a.refs.reference.current)||a.refs.reference.current===null||h!==null&&!fe(h))&&a.refs.setReference(h)},[a.refs]),T=u.useMemo(()=>({...a.refs,setReference:f,setPositionReference:g,domReference:b}),[a.refs,f,g]),k=u.useMemo(()=>({...a.elements,domReference:d}),[a.elements,d]),P=u.useMemo(()=>({...a,...r,refs:T,elements:k,nodeId:t}),[a,T,k,t,r]);return Y(()=>{r.dataRef.current.floatingContext=P;const h=p==null?void 0:p.nodesRef.current.find(C=>C.id===t);h&&(h.context=P)}),u.useMemo(()=>({...a,context:P,refs:T,elements:k}),[a,T,k,P])}function no(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:s}=e,{enabled:c=!0,visibleOnly:m=!0}=t,l=u.useRef(!1),d=u.useRef(),b=u.useRef(!0);u.useEffect(()=>{if(!c)return;const a=De(s.domReference);function g(){!n&&he(s.domReference)&&s.domReference===ve(ce(s.domReference))&&(l.current=!0)}function f(){b.current=!0}return a.addEventListener("blur",g),a.addEventListener("keydown",f,!0),()=>{a.removeEventListener("blur",g),a.removeEventListener("keydown",f,!0)}},[s.domReference,n,c]),u.useEffect(()=>{if(!c)return;function a(g){let{reason:f}=g;(f==="reference-press"||f==="escape-key")&&(l.current=!0)}return o.on("openchange",a),()=>{o.off("openchange",a)}},[o,c]),u.useEffect(()=>()=>{clearTimeout(d.current)},[]);const p=u.useMemo(()=>({onPointerDown(a){xt(a.nativeEvent)||(b.current=!1)},onMouseLeave(){l.current=!1},onFocus(a){if(l.current)return;const g=ye(a.nativeEvent);if(m&&fe(g))try{if(un()&&Kn())throw Error();if(!g.matches(":focus-visible"))return}catch{if(!b.current&&!It(g))return}r(!0,a.nativeEvent,"focus")},onBlur(a){l.current=!1;const g=a.relatedTarget,f=a.nativeEvent,T=fe(g)&&g.hasAttribute(Me("focus-guard"))&&g.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var k;const P=ve(s.domReference?s.domReference.ownerDocument:document);!g&&P===s.domReference||ne((k=i.current.floatingContext)==null?void 0:k.refs.floating.current,P)||ne(s.domReference,P)||T||r(!1,f,"focus")})}}),[i,s.domReference,r,m]);return u.useMemo(()=>c?{reference:p}:{},[c,p])}const Yt="active",Xt="selected";function vt(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[Yt]:s,[Xt]:c,...m}=e;i=m}return{...n==="floating"&&{tabIndex:-1,[Et]:""},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(m=>{let[l,d]=m;if(!(o&&[Yt,Xt].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof d=="function"){var b;(b=r.get(l))==null||b.push(d),s[l]=function(){for(var p,a=arguments.length,g=new Array(a),f=0;f<a;f++)g[f]=arguments[f];return(p=r.get(l))==null?void 0:p.map(T=>T(...g)).find(T=>T!==void 0)}}}else s[l]=d}),s),{})}}function ro(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),r=e.map(c=>c==null?void 0:c.item),o=u.useCallback(c=>vt(c,e,"reference"),t),i=u.useCallback(c=>vt(c,e,"floating"),n),s=u.useCallback(c=>vt(c,e,"item"),r);return u.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}function it(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Zt(e,t){return it(t,e===Tt||e===Ve,e===we||e===xe)}function bt(e,t,n){return it(t,e===Ve,n?e===we:e===xe)||e==="Enter"||e===" "||e===""}function Dr(e,t,n){return it(t,n?e===we:e===xe,e===Ve)}function Jt(e,t,n){return it(t,n?e===xe:e===we,e===Tt)}function oo(e,t){const{open:n,onOpenChange:r,elements:o}=e,{listRef:i,activeIndex:s,onNavigate:c=()=>{},enabled:m=!0,selectedIndex:l=null,allowEscape:d=!1,loop:b=!1,nested:p=!1,rtl:a=!1,virtual:g=!1,focusItemOnOpen:f="auto",focusItemOnHover:T=!0,openOnArrowKeyDown:k=!0,disabledIndices:P=void 0,orientation:h="vertical",cols:C=1,scrollItemIntoView:W=!0,virtualItemRef:D,itemSizes:$,dense:X=!1}=t,q=wt(o.floating),O=le(q),G=Fe(),F=Le(),I=se(()=>{c(x.current===-1?null:x.current)}),v=cn(o.domReference),S=u.useRef(f),x=u.useRef(l??-1),E=u.useRef(null),w=u.useRef(!0),R=u.useRef(I),M=u.useRef(!!o.floating),y=u.useRef(n),V=u.useRef(!1),ee=u.useRef(!1),oe=le(P),me=le(n),re=le(W),te=le(l),[j,Q]=u.useState(),[N,_]=u.useState(),L=se(()=>{function K(B){g?(Q(B.id),F==null||F.events.emit("virtualfocus",B),D&&(D.current=B)):Te(B,{sync:V.current,preventScroll:!0})}const U=i.current[x.current];U&&K(U),(V.current?B=>B():requestAnimationFrame)(()=>{const B=i.current[x.current]||U;if(!B)return;U||K(B);const ie=re.current;ie&&Z&&(ee.current||!w.current)&&(B.scrollIntoView==null||B.scrollIntoView(typeof ie=="boolean"?{block:"nearest",inline:"nearest"}:ie))})});Y(()=>{m&&(n&&o.floating?S.current&&l!=null&&(ee.current=!0,x.current=l,I()):M.current&&(x.current=-1,R.current()))},[m,n,o.floating,l,I]),Y(()=>{if(m&&n&&o.floating)if(s==null){if(V.current=!1,te.current!=null)return;if(M.current&&(x.current=-1,L()),(!y.current||!M.current)&&S.current&&(E.current!=null||S.current===!0&&E.current==null)){let K=0;const U=()=>{i.current[0]==null?(K<2&&(K?requestAnimationFrame:queueMicrotask)(U),K++):(x.current=E.current==null||bt(E.current,h,a)||p?dt(i,oe.current):Lt(i,oe.current),E.current=null,I())};U()}}else Ne(i,s)||(x.current=s,L(),ee.current=!1)},[m,n,o.floating,s,te,p,i,h,a,I,L,oe]),Y(()=>{var K;if(!m||o.floating||!F||g||!M.current)return;const U=F.nodesRef.current,A=(K=U.find(de=>de.id===G))==null||(K=K.context)==null?void 0:K.elements.floating,B=ve(ce(o.floating)),ie=U.some(de=>de.context&&ne(de.context.elements.floating,B));A&&!ie&&w.current&&A.focus({preventScroll:!0})},[m,o.floating,F,G,g]),Y(()=>{if(!m||!F||!g||G)return;function K(U){_(U.id),D&&(D.current=U)}return F.events.on("virtualfocus",K),()=>{F.events.off("virtualfocus",K)}},[m,F,g,G,D]),Y(()=>{R.current=I,y.current=n,M.current=!!o.floating}),Y(()=>{n||(E.current=null)},[n]);const H=s!=null,Z=u.useMemo(()=>{function K(A){if(!n)return;const B=i.current.indexOf(A);B!==-1&&x.current!==B&&(x.current=B,I())}return{onFocus(A){let{currentTarget:B}=A;V.current=!0,K(B)},onClick:A=>{let{currentTarget:B}=A;return B.focus({preventScroll:!0})},...T&&{onMouseMove(A){let{currentTarget:B}=A;V.current=!0,ee.current=!1,K(B)},onPointerLeave(A){let{pointerType:B}=A;if(!(!w.current||B==="touch")&&(V.current=!0,x.current=-1,I(),!g)){var ie;(ie=O.current)==null||ie.focus({preventScroll:!0})}}}}},[n,O,T,i,I,g]),z=se(K=>{if(w.current=!1,V.current=!0,K.which===229||!me.current&&K.currentTarget===O.current)return;if(p&&Jt(K.key,h,a)){ue(K),r(!1,K.nativeEvent,"list-navigation"),he(o.domReference)&&(g?F==null||F.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const U=x.current,A=dt(i,P),B=Lt(i,P);if(v||(K.key==="Home"&&(ue(K),x.current=A,I()),K.key==="End"&&(ue(K),x.current=B,I())),C>1){const ie=$||Array.from({length:i.current.length},()=>({width:1,height:1})),de=dr(ie,C,X),Oe=de.findIndex(be=>be!=null&&!Ge(i.current,be,P)),Be=de.reduce((be,Re,We)=>Re!=null&&!Ge(i.current,Re,P)?We:be,-1),Ie=de[fr({current:de.map(be=>be!=null?i.current[be]:null)},{event:K,orientation:h,loop:b,rtl:a,cols:C,disabledIndices:pr([...P||i.current.map((be,Re)=>Ge(i.current,Re)?Re:void 0),void 0],de),minIndex:Oe,maxIndex:Be,prevIndex:mr(x.current>B?A:x.current,ie,de,C,K.key===Ve?"bl":K.key===(a?we:xe)?"tr":"tl"),stopEvent:!0})];if(Ie!=null&&(x.current=Ie,I()),h==="both")return}if(Zt(K.key,h)){if(ue(K),n&&!g&&ve(K.currentTarget.ownerDocument)===K.currentTarget){x.current=bt(K.key,h,a)?A:B,I();return}bt(K.key,h,a)?b?x.current=U>=B?d&&U!==i.current.length?-1:A:ae(i,{startingIndex:U,disabledIndices:P}):x.current=Math.min(B,ae(i,{startingIndex:U,disabledIndices:P})):b?x.current=U<=A?d&&U!==-1?i.current.length:B:ae(i,{startingIndex:U,decrement:!0,disabledIndices:P}):x.current=Math.max(A,ae(i,{startingIndex:U,decrement:!0,disabledIndices:P})),Ne(i,x.current)&&(x.current=-1),I()}}),J=u.useMemo(()=>g&&n&&H&&{"aria-activedescendant":N||j},[g,n,H,N,j]),pe=u.useMemo(()=>({"aria-orientation":h==="both"?void 0:h,...v?{}:J,onKeyDown:z,onPointerMove(){w.current=!0}}),[J,z,h,v]),ge=u.useMemo(()=>{function K(A){f==="auto"&&sn(A.nativeEvent)&&(S.current=!0)}function U(A){S.current=f,f==="auto"&&xt(A.nativeEvent)&&(S.current=!0)}return{...J,onKeyDown(A){w.current=!1;const B=A.key.startsWith("Arrow"),ie=["Home","End"].includes(A.key),de=B||ie,Oe=Dr(A.key,h,a),Be=Jt(A.key,h,a),Ie=Zt(A.key,h),be=(p?Oe:Ie)||A.key==="Enter"||A.key.trim()==="";if(g&&n){const St=F==null?void 0:F.nodesRef.current.find(qe=>qe.parentId==null),Ee=F&&St?Rr(F.nodesRef.current,St.id):null;if(de&&Ee&&D){const qe=new KeyboardEvent("keydown",{key:A.key,bubbles:!0});if(Oe||Be){var Re,We;const Tn=((Re=Ee.context)==null?void 0:Re.elements.domReference)===A.currentTarget,Mt=Be&&!Tn?(We=Ee.context)==null?void 0:We.elements.domReference:Oe?i.current.find(Ot=>(Ot==null?void 0:Ot.id)===j):null;Mt&&(ue(A),Mt.dispatchEvent(qe),_(void 0))}if((Ie||ie)&&Ee.context&&Ee.context.open&&Ee.parentId&&A.currentTarget!==Ee.context.elements.domReference){var Ct;ue(A),(Ct=Ee.context.elements.domReference)==null||Ct.dispatchEvent(qe);return}}return z(A)}if(!(!n&&!k&&B)){if(be&&(E.current=p&&Ie?null:A.key),p){Oe&&(ue(A),n?(x.current=dt(i,oe.current),I()):r(!0,A.nativeEvent,"list-navigation"));return}Ie&&(l!=null&&(x.current=l),ue(A),!n&&k?r(!0,A.nativeEvent,"list-navigation"):z(A),n&&I())}},onFocus(){n&&!g&&(x.current=-1,I())},onPointerDown:U,onMouseDown:K,onClick:K}},[j,J,z,oe,f,i,p,I,r,n,k,h,a,l,F,g,D]);return u.useMemo(()=>m?{reference:ge,floating:pe,item:Z}:{},[m,ge,pe,Z])}const Fr=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function so(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=Fr.get(s))!=null?n:s,m=rt(),d=Fe()!=null,b=u.useMemo(()=>c==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:m},...c==="menu"&&d&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[c,o,d,r,m,s]),p=u.useMemo(()=>{const g={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?g:{...g,...c==="menu"&&{"aria-labelledby":m}}},[c,o,m,s]),a=u.useCallback(g=>{let{active:f,selected:T}=g;const k={role:"option",...f&&{id:o+"-option"}};switch(s){case"select":return{...k,"aria-selected":f&&T};case"combobox":return{...k,...f&&{"aria-selected":!0}}}return{}},[o,s]);return u.useMemo(()=>i?{reference:b,floating:p,item:a}:{},[i,b,p,a])}const Qt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function Pe(e,t){return typeof e=="function"?e(t):e}function Lr(e,t){const[n,r]=u.useState(e);return e&&!n&&r(!0),u.useEffect(()=>{if(!e&&n){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,n,t]),n}function Nr(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:o=250}=t,s=(typeof o=="number"?o:o.close)||0,[c,m]=u.useState("unmounted"),l=Lr(n,s);return!l&&c==="close"&&m("unmounted"),Y(()=>{if(r){if(n){m("initial");const d=requestAnimationFrame(()=>{m("open")});return()=>{cancelAnimationFrame(d)}}m("close")}},[n,r]),{isMounted:l,status:c}}function io(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t,c=e.placement,m=c.split("-")[0],l=u.useMemo(()=>({side:m,placement:c}),[m,c]),d=typeof s=="number",b=(d?s:s.open)||0,p=(d?s:s.close)||0,[a,g]=u.useState(()=>({...Pe(i,l),...Pe(n,l)})),{isMounted:f,status:T}=Nr(e,{duration:s}),k=le(n),P=le(r),h=le(o),C=le(i);return Y(()=>{const W=Pe(k.current,l),D=Pe(h.current,l),$=Pe(C.current,l),X=Pe(P.current,l)||Object.keys(W).reduce((q,O)=>(q[O]="",q),{});if(T==="initial"&&g(q=>({transitionProperty:q.transitionProperty,...$,...W})),T==="open"&&g({transitionProperty:Object.keys(X).map(Qt).join(","),transitionDuration:b+"ms",...$,...X}),T==="close"){const q=D||W;g({transitionProperty:Object.keys(q).map(Qt).join(","),transitionDuration:p+"ms",...$,...q})}},[p,h,k,P,C,b,T,l]),{isMounted:f,styles:a}}function uo(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:m,enabled:l=!0,findMatch:d=null,resetMs:b=750,ignoreKeys:p=[],selectedIndex:a=null}=t,g=u.useRef(),f=u.useRef(""),T=u.useRef((n=a??s)!=null?n:-1),k=u.useRef(null),P=se(c),h=se(m),C=le(d),W=le(p);Y(()=>{r&&(clearTimeout(g.current),k.current=null,f.current="")},[r]),Y(()=>{if(r&&f.current===""){var O;T.current=(O=a??s)!=null?O:-1}},[r,a,s]);const D=se(O=>{O?o.current.typing||(o.current.typing=O,h(O)):o.current.typing&&(o.current.typing=O,h(O))}),$=se(O=>{function G(x,E,w){const R=C.current?C.current(E,w):E.find(M=>(M==null?void 0:M.toLocaleLowerCase().indexOf(w.toLocaleLowerCase()))===0);return R?x.indexOf(R):-1}const F=i.current;if(f.current.length>0&&f.current[0]!==" "&&(G(F,F,f.current)===-1?D(!1):O.key===" "&&ue(O)),F==null||W.current.includes(O.key)||O.key.length!==1||O.ctrlKey||O.metaKey||O.altKey)return;r&&O.key!==" "&&(ue(O),D(!0)),F.every(x=>{var E,w;return x?((E=x[0])==null?void 0:E.toLocaleLowerCase())!==((w=x[1])==null?void 0:w.toLocaleLowerCase()):!0})&&f.current===O.key&&(f.current="",T.current=k.current),f.current+=O.key,clearTimeout(g.current),g.current=setTimeout(()=>{f.current="",T.current=k.current,D(!1)},b);const v=T.current,S=G(F,[...F.slice((v||0)+1),...F.slice(0,(v||0)+1)],f.current);S!==-1?(P(S),k.current=S):O.key!==" "&&(f.current="",D(!1))}),X=u.useMemo(()=>({onKeyDown:$}),[$]),q=u.useMemo(()=>({onKeyDown:$,onKeyUp(O){O.key===" "&&D(!1)}}),[$,D]);return u.useMemo(()=>l?{reference:X,floating:q}:{},[l,X,q])}function en(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[m,l]=t[s]||[0,0],[d,b]=t[c]||[0,0];l>=r!=b>=r&&n<=(d-m)*(r-l)/(b-l)+m&&(o=!o)}return o}function _r(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function co(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,m=performance.now();function l(b,p){const a=performance.now(),g=a-m;if(s===null||c===null||g===0)return s=b,c=p,m=a,null;const f=b-s,T=p-c,P=Math.sqrt(f*f+T*T)/g;return s=b,c=p,m=a,P}const d=b=>{let{x:p,y:a,placement:g,elements:f,onClose:T,nodeId:k,tree:P}=b;return function(C){function W(){clearTimeout(o),T()}if(clearTimeout(o),!f.domReference||!f.floating||g==null||p==null||a==null)return;const{clientX:D,clientY:$}=C,X=[D,$],q=ye(C),O=C.type==="mouseleave",G=ne(f.floating,q),F=ne(f.domReference,q),I=f.domReference.getBoundingClientRect(),v=f.floating.getBoundingClientRect(),S=g.split("-")[0],x=p>v.right-v.width/2,E=a>v.bottom-v.height/2,w=_r(X,I),R=v.width>I.width,M=v.height>I.height,y=(R?I:v).left,V=(R?I:v).right,ee=(M?I:v).top,oe=(M?I:v).bottom;if(G&&(i=!0,!O))return;if(F&&(i=!1),F&&!O){i=!0;return}if(O&&fe(C.relatedTarget)&&ne(f.floating,C.relatedTarget)||P&&Se(P.nodesRef.current,k).some(te=>{let{context:j}=te;return j==null?void 0:j.open}))return;if(S==="top"&&a>=I.bottom-1||S==="bottom"&&a<=I.top+1||S==="left"&&p>=I.right-1||S==="right"&&p<=I.left+1)return W();let me=[];switch(S){case"top":me=[[y,I.top+1],[y,v.bottom-1],[V,v.bottom-1],[V,I.top+1]];break;case"bottom":me=[[y,v.top+1],[y,I.bottom-1],[V,I.bottom-1],[V,v.top+1]];break;case"left":me=[[v.right-1,oe],[v.right-1,ee],[I.left+1,ee],[I.left+1,oe]];break;case"right":me=[[I.right-1,oe],[I.right-1,ee],[v.left+1,ee],[v.left+1,oe]];break}function re(te){let[j,Q]=te;switch(S){case"top":{const N=[R?j+t/2:x?j+t*4:j-t*4,Q+t+1],_=[R?j-t/2:x?j+t*4:j-t*4,Q+t+1],L=[[v.left,x||R?v.bottom-t:v.top],[v.right,x?R?v.bottom-t:v.top:v.bottom-t]];return[N,_,...L]}case"bottom":{const N=[R?j+t/2:x?j+t*4:j-t*4,Q-t],_=[R?j-t/2:x?j+t*4:j-t*4,Q-t],L=[[v.left,x||R?v.top+t:v.bottom],[v.right,x?R?v.top+t:v.bottom:v.top+t]];return[N,_,...L]}case"left":{const N=[j+t+1,M?Q+t/2:E?Q+t*4:Q-t*4],_=[j+t+1,M?Q-t/2:E?Q+t*4:Q-t*4];return[...[[E||M?v.right-t:v.left,v.top],[E?M?v.right-t:v.left:v.right-t,v.bottom]],N,_]}case"right":{const N=[j-t,M?Q+t/2:E?Q+t*4:Q-t*4],_=[j-t,M?Q-t/2:E?Q+t*4:Q-t*4],L=[[E||M?v.left+t:v.right,v.top],[E?M?v.left+t:v.right:v.left+t,v.bottom]];return[N,_,...L]}}}if(!en([D,$],me)){if(i&&!w)return W();if(!O&&r){const te=l(C.clientX,C.clientY);if(te!==null&&te<.1)return W()}en([D,$],re([p,a]))?!i&&r&&(o=window.setTimeout(W,40)):W()}}};return d.__options={blockPointerEvents:n},d}const lo=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&typeof n=="object"&&(n.current=t)})};export{lo as A,Yr as F,Gr as a,Fe as b,Ur as c,to as d,io as e,Xr as f,Qr as g,so as h,eo as i,oo as j,uo as k,ro as l,Ft as m,zr as n,Hr as o,Zr as p,Jr as q,Wr as r,co as s,$r as t,Le as u,qr as v,Br as w,jr as x,rt as y,no as z};
