import{r as P,u as v,j as e,c as F}from"./index-CZtjPvJ4.js";import{I as N}from"./Input-BJOjAQaa.js";import{B}from"./Button-B1TureNB.js";import{u as C,F as q,C as c}from"./index.esm-rUdqe4Pe.js";import{F as f,t as E,z as t}from"./index-BNds0xgI.js";import{P as U}from"./PasswordInput-Bz-y1uOc.js";const _=t.object({email:t.string({required_error:"Please enter your email"}).min(1,{message:"Please enter your email"}),password:t.string({required_error:"Please enter your password"}).min(1,{message:"Please enter your password"})}),V=g=>{var d,u,p;const[i,n]=P.useState(!1),{disableSubmit:x=!1,className:b,setMessage:o,passwordHint:m,authority:w}=g,{handleSubmit:S,formState:{errors:s},control:l}=C({defaultValues:{},resolver:E(_)}),{signIn:j}=v(),h=async r=>{const{email:y,password:I}=r;if(!x){n(!0);const a=await j({email:y,password:I,authority:w});(a==null?void 0:a.status)==="failed"&&(o==null||o(a.message))}n(!1)};return e.jsx("div",{className:b,children:e.jsxs(q,{onSubmit:S(h),children:[e.jsx(f,{label:"User Name",invalid:!!s.email,errorMessage:(d=s.email)==null?void 0:d.message,children:e.jsx(c,{name:"email",control:l,render:({field:r})=>e.jsx(N,{type:"text",placeholder:"User Name",autoComplete:"off",...r})})}),e.jsx(f,{label:"Password",invalid:!!s.password,errorMessage:(u=s.password)==null?void 0:u.message,className:F(m?"mb-0":"",(p=s.password)!=null&&p.message?"mb-8":""),children:e.jsx(c,{name:"password",control:l,rules:{required:!0},render:({field:r})=>e.jsx(U,{type:"text",placeholder:"Password",autoComplete:"off",...r})})}),m,e.jsx(B,{block:!0,loading:i,variant:"solid",type:"submit",children:i?"Signing in...":"Sign In"})]})})};export{V as S};
