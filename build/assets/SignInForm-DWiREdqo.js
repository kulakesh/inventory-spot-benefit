import{r as P,u as v,j as e,c as F}from"./index-BiL_6wO1.js";import{I as B}from"./Input-Kt4_5zsU.js";import{B as C}from"./Button-BDZQFRVN.js";import{u as E,F as q,C as c}from"./index.esm-DPWQZQZL.js";import{F as f,t as N,z as t}from"./index-RrmeSBJF.js";import{P as _}from"./PasswordInput-Batbs2sl.js";const k=t.object({email:t.string({required_error:"Please enter your email"}).min(1,{message:"Please enter your email"}),password:t.string({required_error:"Please enter your password"}).min(1,{message:"Please enter your password"})}),D=g=>{var d,u,p;const[i,n]=P.useState(!1),{disableSubmit:x=!1,className:b,setMessage:o,passwordHint:m,authority:w}=g,{handleSubmit:S,formState:{errors:s},control:l}=E({defaultValues:{},resolver:N(k)}),{signIn:j}=v(),h=async r=>{const{email:y,password:I}=r;if(!x){n(!0);const a=await j({email:y,password:I,authority:w});(a==null?void 0:a.status)==="failed"&&(o==null||o(a.message))}n(!1)};return e.jsx("div",{className:b,children:e.jsxs(q,{onSubmit:S(h),children:[e.jsx(f,{label:"Email",invalid:!!s.email,errorMessage:(d=s.email)==null?void 0:d.message,children:e.jsx(c,{name:"email",control:l,render:({field:r})=>e.jsx(B,{type:"text",placeholder:"Email",autoComplete:"off",...r})})}),e.jsx(f,{label:"Password",invalid:!!s.password,errorMessage:(u=s.password)==null?void 0:u.message,className:F(m?"mb-0":"",(p=s.password)!=null&&p.message?"mb-8":""),children:e.jsx(c,{name:"password",control:l,rules:{required:!0},render:({field:r})=>e.jsx(_,{type:"text",placeholder:"Password",autoComplete:"off",...r})})}),m,e.jsx(C,{block:!0,loading:i,variant:"solid",type:"submit",children:i?"Signing in...":"Sign In"})]})})};export{D as S};
