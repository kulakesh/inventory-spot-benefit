import{X as D,j as e,t as ee,y as xe,r as j,C as ot,P as rt,u as lt,c as it,T as ct}from"./index-ekMXglHE.js";import{T as Xe}from"./index-CaveuIet.js";import{u as ut,g as dt,a as ft,b as mt,c as ht,T as gt,P as pt}from"./index-DBWnBdM5.js";import{S as Dt}from"./Select-CfFh9YTN.js";import{m as yt,n as xt,o as bt,p as Mt,e as vt,q as wt}from"./index-DQp6amCR.js";import{C as jt}from"./Card-BEpWjg5l.js";import{u as kt,B as je}from"./Button-Byd6BrPs.js";import{B as Ct,D as Nt}from"./Dialog-0XRkJrAz.js";import{d as Yt,r as St,t as Ft,v as Lt,w as Pt,g as Ot,i as Rt,h as It,l as Tt,x as At,y as ye,T as Vt,A as Bt}from"./index-CF5jjCQB.js";import{S as Et}from"./ScrollBar-j9ki26Gp.js";import{u as Ye}from"./useControllableState-DBcNCnGy.js";import{I as Ze}from"./Input-CiSkn4DP.js";import{C as Je}from"./CloseButton-8PoQC6QV.js";import{a as Ht}from"./floating-ui.dom-BtO3HYjA.js";import{u as zt}from"./useUniqueId-WUDbHFg0.js";import"./classNames-BKalzwMl.js";import"./isNil-uX9lOBrv.js";import"./toString-BdE4CUIq.js";function Ae({date:n,minDate:t,maxDate:a}){const s=t instanceof Date,o=a instanceof Date;if(!o&&!s)return!0;const l=D(n).endOf("month"),c=D(n).startOf("month"),i=o?c.isBefore(a):!0,u=s?l.isAfter(t):!0;return i&&u}const Be=n=>{const{hasNext:t,hasPrevious:a,onNext:s,onPrevious:o,onNextLevel:l,label:c,nextLevelDisabled:i,nextLabel:u,previousLabel:d,preventLevelFocus:y=!1,preventFocus:m,children:x,className:f,...h}=n,w=x||e.jsx("button",{className:"picker-header-label",disabled:i,tabIndex:y?-1:0,type:"button",onClick:l,onMouseDown:g=>m&&g.preventDefault(),children:c});return e.jsx("div",{className:ee("picker-header flex items-center justify-between mb-2 border-b border-gray-200 dark:border-gray-700 pb-2",f),...h,children:e.jsxs("div",{className:"flex justify-between w-full items-center rtl:flex-row-reverse",children:[e.jsx("button",{type:"button",className:ee("picker-direction-button",!a&&"opacity-0 cursor-default"),disabled:!a,"aria-label":d,onClick:o,onMouseDown:g=>m&&g.preventDefault(),children:e.jsx(yt,{})}),w,e.jsx("button",{type:"button",className:ee("picker-direction-button",!t&&"opacity-0 cursor-default"),disabled:!t,"aria-label":u,onClick:s,onMouseDown:g=>m&&g.preventDefault(),children:e.jsx(xt,{})})]})})};function Wt({focusable:n,hasValue:t,selected:a,firstInMonth:s}){return n?t?a?0:-1:s?0:-1:-1}const $t=n=>{const{className:t,value:a,selected:s,weekend:o,outOfMonth:l,onMouseEnter:c,hasValue:i,firstInRange:u,lastInRange:d,inRange:y,isToday:m,firstInMonth:x,focusable:f,hideOutOfMonthDates:h,ref:v,renderDay:w,disabled:g,fullWidth:N,...k}=n;return e.jsx("button",{...k,ref:v,type:"button",disabled:g,tabIndex:Wt({focusable:f,hasValue:i,selected:s,firstInMonth:x}),className:ee("date-picker-cell-content",g&&"date-picker-cell-disabled",m&&"ring-1 ring-inset ring-primary",o&&!g&&"date-picker-cell-weekend",l&&!g&&"date-picker-other-month",l&&h&&"d-none",!l&&!g&&!s&&"date-picker-cell-current-month",!g&&!s&&!y&&"date-picker-cell-hoverable",s&&!g&&"date-picker-cell-selected bg-primary text-neutral",y&&!g&&!u&&!d&&!s&&"bg-primary-subtle",!y&&!u&&!d&&"rounded-full",y&&m&&"date-picker-cell-inrange-today",u&&!g&&"date-picker-cell-selected-start",d&&!g&&"date-picker-cell-selected-end",t),onMouseEnter:b=>c(a,b),children:typeof w=="function"?w(a):a==null?void 0:a.getDate()})};function ke(n,t){return D(new Date(n,1,1)).format(t)}function Kt(n){const t=n-n%10-1,a=[];for(let s=0;s<12;s+=1){const o=t+s;a.push(o)}return a}function Ut(n,t="monday"){const a=new Date(n),s=a.getDay(),o=t==="sunday",l=7-(o?s+1:s);return(o&&s!==6||s!==0)&&a.setDate(a.getDate()+l),a}function et(n,t="monday"){const a=new Date(n),s=a.getDay()||7,o=t==="sunday",l=o?s:s-1;return(o&&s!==0||s!==1)&&a.setHours(-24*l),a}function _t(n,t="monday"){const a=n.getMonth(),s=new Date(n.getFullYear(),a,1),o=new Date(n.getFullYear(),n.getMonth()+1,0),l=Ut(o,t),c=et(s,t),i=[];for(;c<=l;){const u=[];for(let d=0;d<7;d+=1)u.push(new Date(c)),c.setDate(c.getDate()+1);i.push(u)}return i}function qt(n,t="MMM"){const a=[],s=new Date(2021,0,1);for(let o=0;o<12;o+=1)a.push(D(s).locale(n).format(t)),s.setMonth(s.getMonth()+1);return a}function Gt(n,t="monday",a="dd"){const s=[],o=et(new Date,t);for(let l=0;l<7;l+=1)s.push(D(o).locale(n).format(a)),o.setDate(o.getDate()+1);return s}function tt(n,t){return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()}function ue(n,t){return tt(n,t)&&n.getDate()===t.getDate()}function Qt(n,t=[0,6]){return t.includes(n.getDay())}function Xt(n,t){return!tt(n,t)}function Zt({minDate:n,maxDate:t,disableDate:a,disableOutOfMonth:s,date:o,outOfMonth:l}){const c=t instanceof Date&&D(t).isBefore(o,"day"),i=n instanceof Date&&D(n).isAfter(o,"day"),u=typeof a=="function"&&a(o);return c||i||u||!!s&&!!l}function Jt(n,t){const a=Array.isArray(t)&&t.every(i=>i instanceof Date),s=a&&[D(t[0]).subtract(1,"day"),D(t[1]).add(1,"day")],o=a&&ue(n,t[0]),l=a&&ue(n,t[1]),c=a&&D(n).isAfter(s[0],"day")&&D(n).isBefore(s[1],"day");return{firstInRange:o,lastInRange:l,inRange:c,selectedInRange:o||l}}function He(n){const{date:t,month:a,hasValue:s,minDate:o,maxDate:l,value:c,disableDate:i,disableOutOfMonth:u,range:d,weekendDays:y}=n,m=Xt(t,a),x=s&&(Array.isArray(c)?c.some(g=>ue(g,t)):ue(t,c)),{inRange:f,lastInRange:h,firstInRange:v,selectedInRange:w}=Jt(t,d);return{disabled:Zt({minDate:o,maxDate:l,disableDate:i,disableOutOfMonth:u,date:t,outOfMonth:m}),weekend:Qt(t,y),selectedInRange:w,selected:x,inRange:f,firstInRange:v,lastInRange:h,outOfMonth:m}}const we=()=>!1,ea=n=>{const{className:t,month:a,value:s,onChange:o,disableOutOfMonth:l=!1,locale:c,dayClassName:i,dayStyle:u,minDate:d,maxDate:y,disableDate:m,onDayMouseEnter:x,range:f,hideWeekdays:h=!1,fullWidth:v=!1,preventFocus:w=!1,focusable:g=!0,firstDayOfWeek:N="monday",onDayKeyDown:k,daysRefs:b,hideOutOfMonthDates:r=!1,isDateInRange:Y=we,isDateFirstInRange:A=we,isDateLastInRange:Z=we,ref:L,renderDay:$,weekdayLabelFormat:ne,weekendDays:G=[0,6],...H}=n,{locale:B}=xe(),_=c||B,q=_t(a,N),J=Gt(_,N,ne).map(R=>e.jsx("th",{className:"week-day-cell",children:e.jsx("span",{className:"week-day-cell-content",children:R})},R)),se=Array.isArray(s)?s.every(R=>R instanceof Date):s instanceof Date,Q=s instanceof Date&&D(s).isAfter(D(a).startOf("month"))&&D(s).isBefore(D(a).endOf("month")),oe={month:a,hasValue:se,minDate:d,maxDate:y,value:s,disableDate:m,disableOutOfMonth:l,range:f,weekendDays:G},te=j.useMemo(()=>q.flatMap(R=>R).find(R=>{const V=He({...oe,date:R});return!V.disabled&&!V.outOfMonth})||D(a).startOf("month").toDate(),[]),z=q.map((R,V)=>{const K=R.map((I,p)=>{const M=He({...oe,date:I}),X={rowIndex:V,cellIndex:p,date:I};return e.jsx("td",{className:ee("date-picker-cell"),children:e.jsx($t,{ref:P=>{b&&(Array.isArray(b[V])||(b[V]=[]),b[V][p]=P)},outOfMonth:M.outOfMonth,weekend:M.weekend,inRange:M.inRange||Y(I,M),firstInRange:M.firstInRange||A(I,M),lastInRange:M.lastInRange||Z(I,M),firstInMonth:ue(I,te),selected:M.selected||M.selectedInRange,hasValue:Q,className:typeof i=="function"?i(I,M):"",style:typeof u=="function"?u(I,M):{},disabled:M.disabled,fullWidth:v,focusable:g,hideOutOfMonthDates:r,renderDay:$,isToday:ue(I,new Date),value:I,onClick:()=>typeof o=="function"&&o(I),onMouseDown:P=>w&&P.preventDefault(),onKeyDown:P=>typeof k=="function"&&k(X,P),onMouseEnter:typeof x=="function"?x:we})},p)});return e.jsx("tr",{className:ee("date-picker-week-cell"),children:K},V)});return e.jsxs("table",{ref:L,className:ee("picker-table",t),cellSpacing:"0",...H,children:[!h&&e.jsx("thead",{children:e.jsx("tr",{children:J})}),e.jsx("tbody",{children:z})]})};function ce(n){return typeof n!="string"?"":n.charAt(0).toUpperCase()+n.slice(1)}function ze({month:n,locale:t,format:a}){return ce(D(n).locale(t).format(a))}const ta=n=>{const{dateViewCount:t,paginateBy:a,month:s,locale:o,minDate:l,maxDate:c,enableHeaderLabel:i,daysRefs:u,onMonthChange:d,onNextLevel:y,onDayKeyDown:m,className:x,labelFormat:f,weekdayLabelFormat:h,preventFocus:v,renderDay:w,...g}=n,N=D(s).add(t,"months").toDate(),k=D(s).subtract(1,"months").toDate(),b="picker-header-label hover:text-primary",r=Array(t).fill(0).map((Y,A)=>{const Z=D(s).add(A,"months").toDate();return e.jsxs("div",{className:"day-picker",children:[e.jsx(Be,{hasNext:A+1===t&&Ae({date:N,minDate:l,maxDate:c}),hasPrevious:A===0&&Ae({date:k,minDate:l,maxDate:c}),className:x,onNext:()=>d(D(s).add(a,"months").toDate()),onPrevious:()=>d(D(s).subtract(a,"months").toDate()),children:e.jsxs("div",{children:[e.jsx("button",{className:ee(b),disabled:!i,tabIndex:A>0?-1:0,type:"button",onClick:()=>y("month"),onMouseDown:L=>v&&L.preventDefault(),children:ze({month:Z,locale:o,format:(f==null?void 0:f.month)||"MMM"})}),e.jsx("button",{className:ee(b),disabled:!i,tabIndex:A>0?-1:0,type:"button",onClick:()=>y("year"),onMouseDown:L=>v&&L.preventDefault(),children:ze({month:Z,locale:o,format:(f==null?void 0:f.year)||"YYYY"})})]})}),e.jsx(ea,{month:Z,daysRefs:u.current[A],minDate:l,maxDate:c,className:x,locale:o,focusable:A===0,preventFocus:v,renderDay:w,weekdayLabelFormat:h,onDayKeyDown:(...L)=>m(A,...L),...g})]},A)});return e.jsx(e.Fragment,{children:r})},aa=n=>{const{className:t,value:a,onChange:s,locale:o,year:l,onYearChange:c,onNextLevel:i,minDate:u,maxDate:d,preventFocus:y,monthLabelFormat:m="MMM",yearLabelFormat:x="YYYY",...f}=n,h=qt(o,m),v=u instanceof Date?u.getFullYear():void 0,w=d instanceof Date?d.getFullYear():void 0,g=h.map((N,k)=>{const b=!Ae({date:new Date(l,k),minDate:u,maxDate:d}),r=k===a.month&&l===a.year;return e.jsx("button",{className:ee("month-picker-cell",r&&!b?"month-picker-cell-active bg-primary":"text-gray-800 dark:text-gray-100",!r&&!b&&"hover:bg-gray-100",b&&"month-picker-cell-disabled"),disabled:b,type:"button",onClick:()=>s(k),onMouseDown:Y=>y&&Y.preventDefault(),children:N},N)});return e.jsxs("div",{className:ee("month-picker",t),...f,children:[e.jsx(Be,{label:ke(l,x),hasNext:typeof w=="number"?l<w:!0,hasPrevious:typeof v=="number"?l>v:!0,className:t,nextLabel:"Next year",previousLabel:"Previous year",preventFocus:y,onNext:()=>c(l+1),onPrevious:()=>c(l-1),onNextLevel:i}),e.jsx("div",{className:"month-table",children:g})]})},na=n=>{const{className:t,value:a,onChange:s,minYear:o,maxYear:l,preventFocus:c,yearLabelFormat:i="YYYY",...u}=n,[d,y]=j.useState(a),m=Kt(d),x=m.map(f=>{const h=f<o||f>l,v=f===a;return e.jsx("button",{disabled:h,className:ee("year-picker-cell",v&&!h?"year-picker-cell-active bg-primary":"text-gray-800 dark:text-gray-100",!v&&!h&&"hover:bg-gray-100",h&&"year-picker-cell-disabled"),type:"button",onClick:()=>s(f),onMouseDown:w=>c&&w.preventDefault(),children:ke(f,i)},f)});return e.jsxs("div",{className:ee("year-picker",t),...u,children:[e.jsx(Be,{nextLevelDisabled:!0,label:`${ke(m[0],i)} - ${ke(m[m.length-1],i)}`,hasPrevious:typeof o=="number"?o<m[0]:!0,hasNext:typeof l=="number"?l>m[m.length-1]:!0,nextLabel:"Next decade",previousLabel:"Previous decade",preventFocus:c,onNext:()=>y(f=>f+10),onPrevious:()=>y(f=>f-10)}),e.jsx("div",{className:"year-table",children:x})]})},at=n=>{const{className:t,dateViewCount:a=1,dayClassName:s,dayStyle:o,defaultMonth:l,defaultView:c="date",disableDate:i,disableOutOfMonth:u,enableHeaderLabel:d=!0,firstDayOfWeek:y="monday",hideOutOfMonthDates:m,hideWeekdays:x,isDateFirstInRange:f,isDateInRange:h,isDateLastInRange:v,labelFormat:w={month:"MMM",year:"YYYY"},locale:g,maxDate:N,minDate:k,month:b,monthLabelFormat:r="MMM",onChange:Y,onDayMouseEnter:A,onMonthChange:Z,paginateBy:L=a,preventFocus:$,range:ne,ref:G,renderDay:H,style:B,value:_,weekdayLabelFormat:q="dd",weekendDays:J,yearLabelFormat:se="YYYY",...Q}=n,{locale:oe}=xe(),[te,z]=j.useState(c),R=g||oe,V=j.useRef(Array(a).fill(0).map(()=>[])),[K,I]=Ye({prop:b,defaultProp:l!==void 0?l:new Date,onChange:Z}),[p,M]=j.useState(K==null?void 0:K.getFullYear()),[X,P]=j.useState(K==null?void 0:K.getMonth()),le=k instanceof Date?k.getFullYear():100,me=N instanceof Date?N.getFullYear():1e4,de=6,S=(F,E,U,T=1)=>{const ie=["down","up"].includes(F),ae=ie?U.rowIndex+(F==="down"?T:-T):U.rowIndex,re=ie?U.cellIndex:U.cellIndex+(F==="right"?T:-T),fe=V.current[E][ae][re];fe&&(fe.disabled?S(F,E,U,T+1):fe.focus())},W=(F,E,U)=>{var T;switch(U.key){case"ArrowDown":{U.preventDefault(),E.rowIndex+1<V.current[F].length&&S("down",F,E);break}case"ArrowUp":{U.preventDefault(),E.rowIndex>0&&S("up",F,E);break}case"ArrowRight":{U.preventDefault(),E.cellIndex!==de?S("right",F,E):F+1<a&&V.current[F+1][E.rowIndex]&&((T=V.current[F+1][E.rowIndex][0])==null||T.focus());break}case"ArrowLeft":{U.preventDefault(),E.cellIndex!==0?S("left",F,E):F>0&&V.current[F-1][E.rowIndex]&&V.current[F-1][E.rowIndex][de].focus();break}}};return e.jsxs("div",{ref:G,className:ee("picker-view",t),...Q,children:[te==="year"&&e.jsx(na,{value:p,minYear:le,maxYear:me,className:t,preventFocus:$,yearLabelFormat:se,onChange:F=>{I(new Date(F,X,1)),M(F),z("date")}}),te==="month"&&e.jsx(aa,{value:{month:K.getMonth(),year:K.getFullYear()},year:p,locale:R,minDate:k,maxDate:N,className:t,style:B,preventFocus:$,yearLabelFormat:se,monthLabelFormat:r,onYearChange:M,onNextLevel:()=>z("year"),onChange:F=>{I(new Date(p,F,1)),P(F),z("date")}}),te==="date"&&e.jsx(ta,{dateViewCount:a,paginateBy:L,month:K,locale:R,minDate:k,maxDate:N,enableHeaderLabel:d,daysRefs:V,style:B,dayClassName:s,dayStyle:o,disableOutOfMonth:u,disableDate:i,hideWeekdays:x,preventFocus:$,firstDayOfWeek:y,value:_,range:ne,labelFormat:w,weekdayLabelFormat:q,renderDay:H,hideOutOfMonthDates:m,isDateInRange:h,isDateFirstInRange:f,isDateLastInRange:v,weekendDays:J,onMonthChange:I,onNextLevel:F=>z(F),onDayKeyDown:W,onChange:Y,onDayMouseEnter:A})]})},nt=n=>{const{multipleSelection:t,value:a,onChange:s,...o}=n,l=c=>{if(!t)return s==null?void 0:s(c);const i=a==null?void 0:a.some(u=>ue(u,c));return s==null?void 0:s(i?a==null?void 0:a.filter(u=>!ue(u,c)):[...a,c])};return e.jsx(at,{value:a,onChange:l,...o})};var Ce={exports:{}},sa=Ce.exports,We;function oa(){return We||(We=1,function(n,t){(function(a,s){n.exports=s()})(sa,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,o,l){var c=o.prototype,i=c.format;l.en.formats=a,c.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,y=function(m,x){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,h,v){var w=v&&v.toUpperCase();return h||x[v]||a[v]||x[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,N,k){return N||k.slice(1)})})}(u,d===void 0?{}:d);return i.call(this,y)}}})}(Ce)),Ce.exports}var ra=oa();const la=ot(ra);D.extend(la);const Ee=n=>{const{className:t,clearable:a=!0,clearButton:s,children:o,disabled:l,dropdownOpened:c,inputtable:i,inputtableBlurClose:u=!1,inputLabel:d,inputPrefix:y,inputSuffix:m=e.jsx(bt,{className:"text-lg"}),name:x,onDropdownOpen:f,onDropdownClose:h,onBlur:v,onFocus:w,onChange:g,onKeyDown:N,onClear:k,placeholder:b,ref:r=null,setDropdownOpened:Y,size:A,type:Z}=n,L=()=>{i?H():G(!c)},$=()=>{Y(!1),h==null||h()},ne=a?s?e.jsx("div",{role:"presentation",onClick:k,children:s}):e.jsx(Je,{className:"text-base",onClick:k}):m?e.jsx(e.Fragment,{children:m}):null,G=p=>{Y(p),p?f==null||f():h==null||h()},H=()=>{Y(!0),f==null||f()},B=p=>{typeof N=="function"&&N(p),(p.key==="Space"||p.key==="Enter")&&!i&&(p.preventDefault(),H())},_=p=>{v==null||v(p),i&&u&&$()},q=p=>{w==null||w(p)},{refs:J,floatingStyles:se,context:Q}=Yt({open:c,onOpenChange:G,placement:"bottom-start",middleware:[St(10),Ft({fallbackAxisSideDirection:"start"}),Lt()],whileElementsMounted:Ht}),oe=Pt(Q),te=Ot(Q),z=Rt(Q),R=It(Q),{getReferenceProps:V,getFloatingProps:K}=Tt([i?oe:te,z,R]),I=At();return e.jsxs(e.Fragment,{children:[e.jsx(Ze,{ref:ye(r,J.setReference),className:t,placeholder:b,size:A,name:x,value:d,readOnly:!i,suffix:ne,prefix:y,autoComplete:"off",type:Z,disabled:l,asElement:"input",onKeyDown:B,onClick:L,onChange:g,...V({onBlur:_,onFocus:q})}),c&&e.jsx("div",{ref:J.setFloating,className:"picker",style:se,"aria-labelledby":I,...K(),children:e.jsx("div",{className:"picker-panel",children:o})})]})},$e="YYYY-MM-DD",ia=n=>{const{className:t,clearable:a=!0,clearButton:s,closePickerOnChange:o=!0,dateViewCount:l,dayClassName:c,dayStyle:i,defaultMonth:u,defaultOpen:d=!1,defaultValue:y,defaultView:m,disabled:x=!1,disableDate:f,enableHeaderLabel:h,disableOutOfMonth:v,firstDayOfWeek:w="monday",hideOutOfMonthDates:g,hideWeekdays:N,inputFormat:k,inputPrefix:b,inputSuffix:r,inputtable:Y,labelFormat:A={month:"MMM",year:"YYYY"},locale:Z,maxDate:L,minDate:$,name:ne="date",onBlur:G,onChange:H,onFocus:B,onDropdownClose:_,onDropdownOpen:q,openPickerOnClear:J=!1,renderDay:se,ref:Q=null,size:oe,style:te,type:z,value:R,weekendDays:V,yearLabelFormat:K,...I}=n,{locale:p}=xe(),M=Z||p,X=z==="date"?$e:k||$e,[P,le]=j.useState(d),me=j.useRef(null),[de,S]=j.useState(y??null),[W,F]=Ye({prop:R,defaultProp:y,onChange:H}),[E,U]=j.useState(W||u||new Date),[T,ie]=j.useState(!1),[ae,re]=j.useState(W instanceof Date?ce(D(W).locale(M).format(X)):""),fe=()=>{le(!1),_==null||_()},be=()=>{le(!0),q==null||q()};j.useEffect(()=>{W||(L&&D(E).isAfter(L)&&U(L),$&&D(E).isBefore($)&&U($))},[$,L]),j.useEffect(()=>{R===null&&!T&&re(""),R instanceof Date&&!T&&re(ce(D(R).locale(M).format(X)))},[R,T,p]),j.useEffect(()=>{y instanceof Date&&ae&&!T&&re(ce(D(W).locale(M).format(X)))},[p]);const Se=C=>{F(C),re(ce(D(C).locale(M).format(X))),o&&fe(),window.setTimeout(()=>{var De;return(De=me.current)==null?void 0:De.focus()},0)},Fe=()=>{var C;F(null),S(null),re(""),J&&be(),(C=me.current)==null||C.focus()},Me=C=>D(C,X,M).toDate(),ve=()=>{let C=typeof W=="string"?Me(W):W;L&&D(C).isAfter(L)&&(C=L),$&&D(C).isBefore($)&&(C=$),D(C).isValid()?(F(C),S(C),re(ce(D(C).locale(M).format(X))),U(C)):F(de)},Le=C=>{typeof G=="function"&&G(C),ie(!1),Y&&ve()},Pe=C=>{C.key==="Enter"&&Y&&(fe(),ve())},Oe=C=>{typeof B=="function"&&B(C),ie(!0)},O=C=>{be();const De=Me(C.target.value);D(De).isValid()?(F(De),S(De),re(C.target.value),U(De)):re(C.target.value)};return e.jsx(Ee,{ref:ye(Q,me),inputtable:Y,dropdownOpened:P,setDropdownOpened:le,size:oe,style:te,className:t,name:ne,inputLabel:ae,clearable:z==="date"?!1:a&&!!W&&!x,clearButton:s,disabled:x,type:z,inputPrefix:b,inputSuffix:r,onChange:O,onBlur:Le,onFocus:Oe,onKeyDown:Pe,onClear:Fe,onDropdownClose:_,onDropdownOpen:q,...I,children:e.jsx(nt,{locale:M,month:Y?E:void 0,defaultMonth:u||(W instanceof Date?W:new Date),value:W instanceof Date?W:W&&D(W).toDate(),labelFormat:A,dayClassName:c,dayStyle:i,disableOutOfMonth:v,minDate:$,maxDate:L,disableDate:f,firstDayOfWeek:w,preventFocus:Y,dateViewCount:l,enableHeaderLabel:h,defaultView:m,hideOutOfMonthDates:g,hideWeekdays:N,renderDay:se,weekendDays:V,yearLabelFormat:K,onMonthChange:U,onChange:Se})})},ca=n=>{const{value:t,onChange:a,dayStyle:s,singleDate:o=!1,dateViewCount:l=1,paginateBy:c,ref:i,...u}=n,[d,y]=j.useState(null),[m,x]=j.useState(null),f=g=>{if(m instanceof Date){if(ue(g,m)&&!o)return x(null),y(null),null;const N=[g,m];return N.sort((k,b)=>k.getTime()-b.getTime()),a(N),x(null),null}return t[0]&&ue(g,t[0])&&!o?(x(null),y(null),a([null,null]),null):(a([g,null]),x(g),null)},h=(g,N)=>{if(m instanceof Date&&d instanceof Date){const k=[d,m];return k.sort((b,r)=>b.getTime()-r.getTime()),!N.selected&&D(g).subtract(1,"day").isBefore(k[1])&&D(g).add(1,"day").isAfter(k[0])}return!1},v=(g,N)=>{if(m instanceof Date&&d instanceof Date){const k=[d,m];return k.sort((b,r)=>b.getTime()-r.getTime()),N.selected&&D(g).isBefore(k[1])}return!1},w=(g,N)=>{if(m instanceof Date&&d instanceof Date){const k=[d,m];return k.sort((b,r)=>b.getTime()-r.getTime()),N.selected&&D(g).isAfter(k[0])}return!1};return e.jsx(at,{ref:i,dayStyle:s,value:m,range:t,dateViewCount:l,paginateBy:c||l,hideOutOfMonthDates:l>1,isDateInRange:h,isDateFirstInRange:v,isDateLastInRange:w,onDayMouseEnter:g=>y(g),onChange:g=>f(g),...u})},Ke=n=>Array.isArray(n)&&n.length===2&&n.every(t=>t instanceof Date),ua=n=>Array.isArray(n)&&n.length===2&&n[0]instanceof Date,da=n=>{const{className:t,clearable:a=!0,clearButton:s,closePickerOnChange:o=!0,dateViewCount:l=1,dayClassName:c,dayStyle:i,defaultMonth:u,defaultOpen:d=!1,defaultValue:y,defaultView:m,disabled:x,disableDate:f,enableHeaderLabel:h,disableOutOfMonth:v,firstDayOfWeek:w="monday",hideOutOfMonthDates:g,hideWeekdays:N,inputFormat:k,inputPrefix:b,inputSuffix:r,labelFormat:Y={month:"MMM",year:"YYYY"},separator:A="~",locale:Z,maxDate:L,minDate:$,onChange:ne,onDropdownClose:G,onDropdownOpen:H,openPickerOnClear:B=!1,ref:_=null,renderDay:q,singleDate:J=!1,size:se,style:Q,value:oe,weekendDays:te,yearLabelFormat:z,...R}=n,{locale:V}=xe(),K=Z||V,I=k||"YYYY-MM-DD",[p,M]=j.useState(d),X=j.useRef(null),[P,le]=Ye({prop:oe,defaultProp:y!==void 0?y:[null,null],onChange:ne}),me=T=>{le(T),o&&Ke(T)&&(M(!1),G==null||G(),window.setTimeout(()=>{var ie;return(ie=X.current)==null?void 0:ie.focus()},0))},de=Ke(P),S=ua(P),W=P!=null&&P[0]?ce(D(P[0]).locale(K).format(I)):"",F=P!=null&&P[1]?ce(D(P[1]).locale(K).format(I)):"",E=()=>{var T;le([null,null]),M(!0),B&&(H==null||H()),(T=X.current)==null||T.focus()},U=T=>{!T&&S&&(P==null?void 0:P[1])===null&&E(),M(T)};return e.jsx(Ee,{ref:ye(_,X),dropdownOpened:p,setDropdownOpened:U,size:se,style:Q,className:t,inputLabel:S?`${W} ${A} ${F}`:"",clearable:a&&S,clearButton:s,disabled:x,inputPrefix:b,inputSuffix:r,onClear:E,onDropdownClose:G,onDropdownOpen:H,...R,children:e.jsx(ca,{locale:K,defaultMonth:de?P==null?void 0:P[0]:u,value:P,labelFormat:Y,dayClassName:c,dayStyle:i,disableOutOfMonth:v,minDate:$,maxDate:L,disableDate:f,firstDayOfWeek:w,enableHeaderLabel:h,singleDate:J,dateViewCount:l,defaultView:m,hideOutOfMonthDates:g,hideWeekdays:N,renderDay:q,weekendDays:te,yearLabelFormat:z,onChange:T=>me(T)})})};function Ue(n,t){const a=j.useRef(!1);j.useEffect(()=>()=>{a.current=!1},[]),j.useEffect(()=>{if(a.current)return n();a.current=!0},t)}function Ve(n,t,a){return Math.min(Math.max(n,t),a)}function fa({amLabel:n,pmLabel:t,onChange:a,nextRef:s}){return(o,l)=>{var u,d;const c=new RegExp(`(^(${n}|${t})?$)`),i=o.toLowerCase();if(i===n||i===t){a(i),l&&((u=s==null?void 0:s.current)==null||u.focus()),l&&((d=s==null?void 0:s.current)==null||d.select());return}c.test(i)&&a(i)}}function pe(n){const t=parseInt(n,10);return t>=10?t.toString():`0${t}`}function Re(n){return Math.floor(n/10)}function Ie({onChange:n,nextRef:t,min:a,max:s,nextMax:o}){return(l,c,i=!1)=>{var d,y;const u=parseInt(l,10);if(!Number.isNaN(u)){if(u>Re(s)||i){const m=u%10;let x,f;u>s&&o&&m<=Re(o)?(x=pe(Re(u).toString()),f=pe(m.toString())):x=pe(Ve(u,a,s).toString()),n(x,f),c&&((d=t==null?void 0:t.current)==null||d.focus()),c&&((y=t==null?void 0:t.current)==null||y.select());return}n(u.toString())}}}function ma(n,t,a,s,o,l){const c=D();let i=parseInt(n,10);const u=parseInt(t,10),d=parseInt(a,10);return Number.isNaN(i)&&(i=0),s==="12"&&(i%=12,l===o&&(i+=12)),c.hour(i).minute(Number.isNaN(u)?0:u).second(Number.isNaN(d)?0:d).millisecond(0).toDate()}function _e(n,t,a,s){if(!(n instanceof Date))return{hours:"",minutes:"",seconds:"",amPm:""};let o=n.getHours();const l=o>=12;return t==="12"&&(o%=12,o===0&&(o+=12)),{hours:pe(o.toString()),minutes:pe(n.getMinutes().toString()),seconds:pe(n.getSeconds().toString()),amPm:l?s:a}}const Te=n=>{const{className:t,onFocus:a,onBlur:s,onChange:o,ref:l=null,setValue:c,withSeparator:i=!1,max:u,min:d=0,value:y,...m}=n,[x,f]=j.useState(0),h=j.useRef(void 0),v=b=>{var r;typeof a=="function"&&a(b),(r=h==null?void 0:h.current)==null||r.select(),f(0)},w=b=>{typeof s=="function"&&s(b),x===1&&typeof o=="function"&&o(b.currentTarget.value,!1)},g=b=>{var r;b.stopPropagation(),(r=h==null?void 0:h.current)==null||r.select()},N=b=>{if(b.key==="ArrowUp"){b.preventDefault();const r=pe(Ve(parseInt(b.currentTarget.value,10)+1,d,u).toString());y!==r&&o(r,!1)}if(b.key==="ArrowDown"){b.preventDefault();const r=pe(Ve(parseInt(b.currentTarget.value,10)-1,d,u).toString());y!==r&&o(r,!1)}},k=b=>{f(x+1);const r=parseInt(b.currentTarget.value,10).toString();if(r==="0"&&x===0){c("00");return}o(r,!0,x>0)};return e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:ye(h,l),type:"text",inputMode:"numeric",value:y,className:ee("time-input-field",t),onChange:k,onClick:g,onFocus:v,onBlur:w,onKeyDown:N,...m}),i&&e.jsx("span",{children:" : "})]})},ha=n=>{const{className:t,onChange:a,onFocus:s,value:o,amLabel:l,pmLabel:c,ref:i=null,...u}=n,d=j.useRef(void 0),y=h=>{var v;h.stopPropagation(),(v=d==null?void 0:d.current)==null||v.select()},m=h=>{(h.key==="ArrowUp"||h.key==="ArrowDown")&&(h.preventDefault(),a(o===l?c:l,!0))},x=h=>{var v;typeof s=="function"&&s(h),(v=d==null?void 0:d.current)==null||v.select()},f=h=>{const v=h.target.value.slice(-1).toLowerCase();if(v==="p"){h.preventDefault(),a(c,!0);return}if(v==="a"){h.preventDefault(),a(l,!0);return}a(o.toString(),!0)};return e.jsx("input",{ref:ye(d,i),type:"text",value:o,className:ee("time-input-field","am-pm-input",t),onClick:y,onFocus:x,onKeyDown:m,onChange:f,...u})},ga=n=>{var I;const{amLabel:t="am",amPmPlaceholder:a="am",className:s,clearable:o=!0,defaultValue:l,disabled:c=!1,format:i="24",id:u,invalid:d,name:y,nextRef:m,onChange:x,pmLabel:f="pm",prefix:h,ref:v=null,showSeconds:w=!1,size:g="md",style:N,suffix:k=e.jsx(Mt,{className:"text-lg"}),timeFieldPlaceholder:b="--",timeFieldClass:r,value:Y,...A}=n,Z=zt(u),L=j.useRef(void 0),$=j.useRef(void 0),ne=j.useRef(void 0),G=j.useRef(void 0),[H,B]=j.useState(_e(Y||l,i,t,f)),[_,q]=j.useState(Y||l),J=(I=kt())==null?void 0:I.invalid,se=d||J;Ue(()=>{B(_e(_,i,t,f))},[_,i,t,f]),Ue(()=>{(Y==null?void 0:Y.getTime())!==(_==null?void 0:_.getTime())&&q(Y)},[Y]);const Q=p=>{const M={...H,...p},X=ma(M.hours,M.minutes,M.seconds,i,f,M.amPm);q(X),typeof x=="function"&&x(X)},oe=Ie({onChange:(p,M)=>{Q({hours:p,minutes:M??H.minutes})},min:i==="12"?1:0,max:i==="12"?12:23,nextRef:$,nextMax:59}),te=Ie({onChange:(p,M)=>{Q({minutes:p,seconds:M??H.seconds})},min:0,max:59,nextRef:w?ne:i==="12"?G:m,nextMax:w?59:void 0}),z=Ie({onChange:p=>{Q({seconds:p})},min:0,max:59,nextRef:i==="12"?G:m}),R=fa({amLabel:t,pmLabel:f,onChange:p=>{Q({amPm:p})},nextRef:m}),V=()=>{var p;B({hours:"",minutes:"",seconds:"",amPm:""}),q(null),x==null||x(null),(p=L==null?void 0:L.current)==null||p.focus()},K=o&&_?e.jsx(Je,{onClick:V}):k;return e.jsx(Ze,{asElement:"div",invalid:se,disabled:c,style:N,className:s,size:g,prefix:h,suffix:K,onClick:()=>{var p;return(p=L==null?void 0:L.current)==null?void 0:p.focus()},...A,children:e.jsxs("div",{className:"time-input-wrapper",children:[e.jsx(Te,{ref:ye(L,v),withSeparator:!0,value:H.hours,setValue:p=>B(M=>({...M,hours:p})),id:Z,className:r,max:i==="12"?12:23,placeholder:b,"aria-label":"hours",disabled:c,name:y,onChange:oe}),e.jsx(Te,{ref:$,value:H.minutes,setValue:p=>B(M=>({...M,minutes:p})),className:r,withSeparator:w,max:59,placeholder:b,"aria-label":"minutes",disabled:c,onChange:te}),w&&e.jsx(Te,{ref:ne,value:H.seconds,setValue:p=>B(M=>({...M,seconds:p})),className:r,max:59,placeholder:b,"aria-label":"seconds",disabled:c,onChange:z}),i==="12"&&e.jsx(ha,{ref:G,value:H.amPm,placeholder:a,amLabel:t,pmLabel:f,"aria-label":"am pm",disabled:c,onChange:R})]})})},pa="DD-MMM-YYYY hh:mm a",st=n=>{const{amPm:t=!0,className:a,clearable:s=!0,closePickerOnChange:o=!1,dateViewCount:l,dayClassName:c,dayStyle:i,defaultMonth:u,defaultOpen:d=!1,defaultValue:y,defaultView:m,disabled:x=!1,disableDate:f,enableHeaderLabel:h,disableOutOfMonth:v,firstDayOfWeek:w="monday",hideOutOfMonthDates:g,hideWeekdays:N,inputFormat:k,inputPrefix:b,inputSuffix:r,inputtable:Y,labelFormat:A={month:"MMM",year:"YYYY"},locale:Z,maxDate:L,minDate:$,name:ne="dateTime",okButtonContent:G="OK",onBlur:H,onChange:B,onFocus:_,onDropdownClose:q,onDropdownOpen:J,openPickerOnClear:se,ref:Q=null,renderDay:oe,size:te,value:z,weekendDays:R,yearLabelFormat:V,...K}=n,{locale:I}=xe(),p=Z||I,M=k||pa,[X,P]=j.useState(d),le=j.useRef(null),[me,de]=j.useState(y??null),[S,W]=Ye({prop:z,defaultProp:y,onChange:B}),[F,E]=j.useState(S||u||new Date),[U,T]=j.useState(!1),[ie,ae]=j.useState(S instanceof Date?ce(D(S).locale(p).format(M)):""),re=()=>{P(!1),q==null||q()},fe=()=>{P(!0),J==null||J()};j.useEffect(()=>{z===null&&!U&&ae(""),z instanceof Date&&!U&&ae(D(z).locale(p).format(M))},[z,U]);const be=O=>{if(S)O.setHours(S.getHours()),O.setMinutes(S.getMinutes());else{const C=new Date(Date.now());O.setHours(C.getHours()),O.setMinutes(C.getMinutes())}W(O),!z&&!o&&ae(D(O).locale(p).format(M)),o&&ae(ce(D(O).locale(p).format(M))),o&&re(),window.setTimeout(()=>{var C;return(C=le.current)==null?void 0:C.focus()},0)},Se=()=>{var O;W(null),de(null),ae(""),se&&fe(),(O=le.current)==null||O.focus(),B==null||B(null)},Fe=O=>D(O,M,p).toDate(),Me=O=>{typeof H=="function"&&H(O),T(!1)},ve=O=>{typeof _=="function"&&_(O),T(!0)},Le=O=>{fe();const C=Fe(O.target.value);D(C).isValid()?(W(C),de(C),o&&ae(O.target.value),E(C)):o&&ae(O.target.value)},Pe=O=>{if(S instanceof Date&&O instanceof Date){const C=new Date(S.getFullYear(),S.getMonth(),S.getDate(),O.getHours(),O.getMinutes(),O.getSeconds(),O.getMilliseconds());W(C),!z&&!o&&ae(ce(D(C).locale(p).format(M))),o&&ae(ce(D(C).locale(p).format(M)))}o&&re()},Oe=()=>{ae(ce(D(S).locale(p).format(M))),re(),window.setTimeout(()=>{var O;return(O=le.current)==null?void 0:O.focus()},0),B==null||B(S)};return e.jsxs(Ee,{ref:ye(Q,le),dropdownOpened:X,setDropdownOpened:P,className:a,name:ne,inputLabel:ie,clearable:s&&!!S&&!x,disabled:x,size:te,inputPrefix:b,inputSuffix:r,onChange:Le,onBlur:Me,onFocus:ve,onClear:Se,onDropdownClose:q,onDropdownOpen:J,...K,children:[e.jsx(nt,{locale:p,month:Y?F:void 0,defaultMonth:u||(S instanceof Date?S:new Date),value:S instanceof Date?S:S&&D(S).toDate(),labelFormat:A,dayClassName:c,dayStyle:i,disableOutOfMonth:v,minDate:$,maxDate:L,disableDate:f,firstDayOfWeek:w,preventFocus:!1,dateViewCount:l,enableHeaderLabel:h,defaultView:m,hideOutOfMonthDates:g,hideWeekdays:N,renderDay:oe,weekendDays:R,yearLabelFormat:V,onMonthChange:E,onChange:be}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx(ga,{disabled:!S,value:S,format:t?"12":"24",clearable:!1,size:"sm",onChange:Pe}),e.jsx(je,{size:"sm",disabled:!S,onClick:Oe,children:G})]})]})};st.displayName="DateTimepicker";const Ne=ia;Ne.DatePickerRange=da;Ne.DateTimepicker=st;const{Tr:qe,Th:he,Td:ge,THead:Da,TBody:ya}=Xe;async function Ge(n,t){return ct.fetchDataWithAxios({url:`/get-sales-list/${n}/${t.startDate}/${t.endDate}`,method:"get"})}const Qe=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],Aa=()=>{const n=rt(),[t,a]=j.useState([]),[s,o]=j.useState(!0),[l,c]=j.useState(null),[i,u]=j.useState([]),[d,y]=j.useState(!1),[m,x]=j.useState([null,null]),{user:f}=lt();j.useEffect(()=>{Ge(f.id,{startDate:"undefined",endDate:"undefined"}).then(r=>{a(r)}).catch(r=>{var Y;c(((Y=r==null?void 0:r.response)==null?void 0:Y.data)||r.toString())}).finally(()=>{o(!1)})},[]);const h=r=>{r[0]===null||r[1]===null||(o(!0),x(r),Ge(f.id,{startDate:D(r[0]).format("YYYY-MM-DD"),endDate:D(r[1]).format("YYYY-MM-DD")}).then(Y=>{a(Y)}).catch(Y=>{var A;c(((A=Y==null?void 0:Y.response)==null?void 0:A.data)||Y.toString())}).finally(()=>{o(!1)}))},v=t.length,w=ut({data:t,getCoreRowModel:ht(),getFilteredRowModel:mt(),getPaginationRowModel:ft(),getSortedRowModel:dt()}),g=r=>{w.setPageIndex(r-1)},N=(r=0)=>{w.setPageSize(Number(r))},k=r=>{u(r),y(!0)},b=r=>{n("/user/invoice2",{state:r})};return l?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:l.message}),e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by date:"}),e.jsx(Ne.DatePickerRange,{placeholder:"Select dates range",value:m,inputFormat:"DD MMM, YYYY",separator:"to",onChange:h,className:"w-64 mb-4 ml-4"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by date:"}),e.jsx(Ne.DatePickerRange,{placeholder:"Select dates range",value:m,inputFormat:"DD MMM, YYYY",separator:"to",onChange:h,className:"w-64 mb-4 ml-4"})]}),e.jsxs(jt,{children:[e.jsxs(Xe,{children:[e.jsx(Da,{children:e.jsxs(qe,{children:[e.jsx(he,{children:"Sl No"}),e.jsx(he,{children:"Name"}),e.jsx(he,{children:"Phone"}),e.jsx(he,{children:"City"}),e.jsx(he,{children:"Amount"}),e.jsx(he,{children:"Items"}),e.jsx(he,{children:"Date"}),e.jsx(he,{children:"Action"})]})}),s?e.jsx(gt,{columns:6,rows:10,avatarInColumns:[2,3,5],avatarProps:{width:28,height:28}}):e.jsx(ya,{children:w.getRowModel().rows.map(r=>e.jsxs(qe,{children:[e.jsx(ge,{children:r.index+1}),e.jsx(ge,{className:r.original.myshopee_order_id?"text-blue-500":"",children:r.original.name}),e.jsx(ge,{children:r.original.phone}),e.jsx(ge,{children:r.original.city}),e.jsx(ge,{children:r.original.amount}),e.jsx(ge,{children:e.jsx("div",{className:"flex items-center",children:e.jsx(Ct,{className:"mr-2",innerClass:"bg-blue-500",content:r.original.items.length,children:e.jsx(Vt,{title:"View items",children:e.jsx(je,{onClick:()=>k(r.original.items),shape:"circle",size:"sm",icon:e.jsx(vt,{})})})})})}),e.jsx(ge,{children:D.unix(r.original.created_at).format("D MMM, YYYY h:mm a")}),e.jsx(ge,{children:e.jsx(je,{onClick:()=>b(r.original),shape:"circle",size:"sm",icon:e.jsx(wt,{})})})]},r.original.id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(pt,{pageSize:w.getState().pagination.pageSize,currentPage:w.getState().pagination.pageIndex+1,total:v,onChange:g}),e.jsx("div",{style:{minWidth:130},children:e.jsx(Dt,{size:"sm",isSearchable:!1,value:Qe.filter(r=>r.value===w.getState().pagination.pageSize),options:Qe,onChange:r=>N(r==null?void 0:r.value)})})]})]}),e.jsxs(Nt,{isOpen:d,onClose:()=>y(!1),onRequestClose:()=>y(!1),children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h4",{className:"mb-1",children:"Ordered items"})}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"mb-6",children:e.jsx(Et,{className:it("overflow-y-auto h-80"),children:i==null?void 0:i.map(r=>e.jsxs("div",{className:"py-3 pr-5 rounded-lg flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{size:"lg",shape:"round",src:r.img_url}),e.jsxs("div",{children:[e.jsx("p",{className:"heading-text font-bold",children:r.name}),e.jsxs("p",{children:["Price: â‚¹",r.amount]})]})]})}),e.jsxs("div",{children:["Qnt:",e.jsx("span",{className:"heading-text font-bold",children:r.quantity})]})]},r.id))})})}),e.jsx(je,{block:!0,type:"button",variant:"solid",onClick:()=>y(!1),children:"Close"})]})]})};export{Aa as default};
