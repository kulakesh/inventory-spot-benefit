import{r as y,u as C,j as e,e as U}from"./index-C4pKZWoS.js";import{L as A}from"./Logo-BpgBybBo.js";import{u as B,A as F}from"./useTimeOutMessage-CEVt_o-O.js";import{I as c}from"./Input-DmEGxZPQ.js";import{B as q}from"./Button-B7VW5Mw2.js";import{u as M,F as E,C as p}from"./index.esm-BxVMj90r.js";import{F as u,t as I,z as t}from"./index-pn-TUYJU.js";import{A as _}from"./ActionLink-DQuNQAw6.js";import"./classNames-BjbV-B2P.js";import"./StatusIcon-BFlsotSU.js";import"./index-ChdVKN-X.js";import"./CloseButton-DUJuJM1o.js";import"./index-BAwekRfc.js";import"./isNil-DeLVkTqg.js";const k=t.object({email:t.string({required_error:"Please enter your email"}),userName:t.string({required_error:"Please enter your name"}),password:t.string({required_error:"Password Required"}),confirmPassword:t.string({required_error:"Confirm Password Required"})}).refine(a=>a.password===a.confirmPassword,{message:"Password not match",path:["confirmPassword"]}),L=a=>{var x,g,h,j;const{disableSubmit:f=!1,className:i,setMessage:o}=a,[n,m]=y.useState(!1),{signUp:w}=C(),{handleSubmit:b,formState:{errors:r},control:l}=M({resolver:I(k)}),S=async s=>{const{userName:N,password:P,email:v}=s;if(!f){m(!0);const d=await w({userName:N,password:P,email:v});(d==null?void 0:d.status)==="failed"&&(o==null||o(d.message)),m(!1)}};return e.jsx("div",{className:i,children:e.jsxs(E,{onSubmit:b(S),children:[e.jsx(u,{label:"User name",invalid:!!r.userName,errorMessage:(x=r.userName)==null?void 0:x.message,children:e.jsx(p,{name:"userName",control:l,render:({field:s})=>e.jsx(c,{type:"text",placeholder:"User Name",autoComplete:"off",...s})})}),e.jsx(u,{label:"Email",invalid:!!r.email,errorMessage:(g=r.email)==null?void 0:g.message,children:e.jsx(p,{name:"email",control:l,render:({field:s})=>e.jsx(c,{type:"email",placeholder:"Email",autoComplete:"off",...s})})}),e.jsx(u,{label:"Password",invalid:!!r.password,errorMessage:(h=r.password)==null?void 0:h.message,children:e.jsx(p,{name:"password",control:l,render:({field:s})=>e.jsx(c,{type:"password",autoComplete:"off",placeholder:"Password",...s})})}),e.jsx(u,{label:"Confirm Password",invalid:!!r.confirmPassword,errorMessage:(j=r.confirmPassword)==null?void 0:j.message,children:e.jsx(p,{name:"confirmPassword",control:l,render:({field:s})=>e.jsx(c,{type:"password",autoComplete:"off",placeholder:"Confirm Password",...s})})}),e.jsx(q,{block:!0,loading:n,variant:"solid",type:"submit",children:n?"Creating Account...":"Sign Up"})]})})},R=({signInUrl:a="/sign-in",disableSubmit:f})=>{const[i,o]=B(),n=U(m=>m.mode);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsx(A,{type:"streamline",mode:n,imgClass:"mx-auto",logoWidth:60})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-1",children:"Sign Up"}),e.jsx("p",{className:"font-semibold heading-text",children:"And lets get started with your free trial"})]}),i&&e.jsx(F,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx("span",{className:"break-all",children:i})}),e.jsx(L,{disableSubmit:f,setMessage:o}),e.jsx("div",{children:e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("span",{children:"Already have an account? "}),e.jsx(_,{to:a,className:"heading-text font-bold",themeColor:!1,children:"Sign in"})]})})]})},$=()=>e.jsx(R,{});export{R as SignUpBase,$ as default};
