import{O as w,r as n,j as e,R as T}from"./index-DYjQbdMU.js";import{T as u}from"./index-_XlKyga1.js";import{u as y,f as c,T as P,P as M,g as N,a as z,b as D,c as E}from"./index-B59t3mjd.js";import{S as k}from"./Select-5w-VqALn.js";import{f as H,g as I}from"./index-BFu0nb_6.js";import{C as K}from"./Card-CjT__r-_.js";import{B as d}from"./Button-COzievky.js";import"./classNames-ClmOXRvH.js";import"./useControllableState-CWnKdrm3.js";import"./floating-ui.dom-Bg7EfdP9.js";const{Tr:g,Th:o,Td:i,THead:O,TBody:A,Sorter:B}=u;async function F(){return T.fetchDataWithAxios({url:"/list-sku",method:"get"})}const m=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],Y=()=>{const x=w(),[r,h]=n.useState([]),[p,j]=n.useState(!0),[l,S]=n.useState(null);n.useEffect(()=>{F().then(a=>{h(a)}).catch(a=>{S(a)}).finally(()=>{j(!1)})},[]);const f=r.length,v=n.useMemo(()=>[{header:"User ID",accessorKey:"username"},{header:"Name",accessorKey:"name"},{header:"Phone",accessorKey:"phone"},{header:"Email",accessorKey:"email"},{header:"City",accessorKey:"city"}],[]),s=y({data:r,columns:v,getCoreRowModel:E(),getFilteredRowModel:D(),getPaginationRowModel:z(),getSortedRowModel:N()}),b=a=>{x(`/admin/sku/edit/${a.original.id}`)},C=a=>{s.setPageIndex(a-1)},R=(a=0)=>{s.setPageSize(Number(a))};return l?e.jsxs("div",{children:["Error: ",l.message]}):e.jsx("div",{children:e.jsxs(K,{children:[e.jsxs(u,{children:[e.jsx(O,{children:s.getHeaderGroups().map(a=>e.jsxs(g,{children:[e.jsx(o,{className:"w-20",children:"Sl No"}),a.headers.map(t=>e.jsx(o,{colSpan:t.colSpan,children:e.jsxs("div",{className:t.column.getCanSort()?"cursor-pointer select-none":"",onClick:t.column.getToggleSortingHandler(),children:[c(t.column.columnDef.header,t.getContext()),e.jsx(B,{sort:t.column.getIsSorted()})]})},t.id)),e.jsx(o,{children:"Action"})]},a.id))}),p?e.jsx(P,{columns:7,rows:10,avatarInColumns:[0],avatarProps:{width:28,height:28}}):e.jsx(A,{children:s.getRowModel().rows.map(a=>e.jsxs(g,{children:[e.jsx(i,{children:a.index+1}),a.getVisibleCells().map(t=>e.jsx(i,{children:c(t.column.columnDef.cell,t.getContext())},t.id)),e.jsxs(i,{children:[e.jsx(d,{onClick:()=>b(a),icon:e.jsx(H,{}),variant:"solid",size:"xs",className:"mr-2"}),e.jsx(d,{icon:e.jsx(I,{}),variant:"plain",size:"xs",className:"bg-error text-white"})]})]},a.id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(M,{pageSize:s.getState().pagination.pageSize,currentPage:s.getState().pagination.pageIndex+1,total:f,onChange:C}),e.jsx("div",{style:{minWidth:130},children:e.jsx(k,{size:"sm",isSearchable:!1,value:m.filter(a=>a.value===s.getState().pagination.pageSize),options:m,onChange:a=>R(a==null?void 0:a.value)})})]})]})})};export{Y as default};
