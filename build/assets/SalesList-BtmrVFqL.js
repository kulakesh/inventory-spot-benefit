import{W as y,j as e,t as ee,y as xe,r as w,C as ot,O as rt,T as lt,u as it,c as ct,R as ut}from"./index-CAcRyeLs.js";import{T as Ze}from"./index-hsbJZJmR.js";import{u as dt,g as ft,a as mt,b as ht,c as gt,T as pt,P as Dt}from"./index-DwgCPs0h.js";import{S as yt}from"./Select-oHcxwGj-.js";import{m as xt,n as bt,o as Mt,p as vt,e as wt,q as jt}from"./index-O5O7GJuu.js";import{C as kt}from"./Card-DrYPe7O9.js";import{u as Ct,B as je}from"./Button-BDOb-ca5.js";import{B as Nt,D as Yt}from"./Dialog-BRv9T_Cm.js";import{d as St,r as Ft,t as Lt,v as Pt,w as Ot,g as Rt,i as It,h as Tt,l as At,x as Vt,y as ye,T as Bt,A as Et}from"./index-BZ03vd8d.js";import{S as Ht}from"./ScrollBar-CEdbqMp6.js";import{u as Ye}from"./useControllableState-CPSCIILi.js";import{I as Je}from"./Input-BkfHs5Cv.js";import{C as Xe}from"./CloseButton-DuFG71G4.js";import{a as zt}from"./floating-ui.dom-C1zG1fUz.js";import{u as Wt}from"./useUniqueId-CCR9GvUe.js";import"./classNames-yHpdLGOg.js";import"./isNil-CLnoT9q-.js";import"./toString-Cx8W-d6s.js";function Ae({date:n,minDate:t,maxDate:a}){const s=t instanceof Date,o=a instanceof Date;if(!o&&!s)return!0;const r=y(n).endOf("month"),i=y(n).startOf("month"),l=o?i.isBefore(a):!0,u=s?r.isAfter(t):!0;return l&&u}const Be=n=>{const{hasNext:t,hasPrevious:a,onNext:s,onPrevious:o,onNextLevel:r,label:i,nextLevelDisabled:l,nextLabel:u,previousLabel:d,preventLevelFocus:b=!1,preventFocus:f,children:D,className:h,...g}=n,N=D||e.jsx("button",{className:"picker-header-label",disabled:l,tabIndex:b?-1:0,type:"button",onClick:r,onMouseDown:m=>f&&m.preventDefault(),children:i});return e.jsx("div",{className:ee("picker-header flex items-center justify-between mb-2 border-b border-gray-200 dark:border-gray-700 pb-2",h),...g,children:e.jsxs("div",{className:"flex justify-between w-full items-center rtl:flex-row-reverse",children:[e.jsx("button",{type:"button",className:ee("picker-direction-button",!a&&"opacity-0 cursor-default"),disabled:!a,"aria-label":d,onClick:o,onMouseDown:m=>f&&m.preventDefault(),children:e.jsx(xt,{})}),N,e.jsx("button",{type:"button",className:ee("picker-direction-button",!t&&"opacity-0 cursor-default"),disabled:!t,"aria-label":u,onClick:s,onMouseDown:m=>f&&m.preventDefault(),children:e.jsx(bt,{})})]})})};function $t({focusable:n,hasValue:t,selected:a,firstInMonth:s}){return n?t?a?0:-1:s?0:-1:-1}const Kt=n=>{const{className:t,value:a,selected:s,weekend:o,outOfMonth:r,onMouseEnter:i,hasValue:l,firstInRange:u,lastInRange:d,inRange:b,isToday:f,firstInMonth:D,focusable:h,hideOutOfMonthDates:g,ref:v,renderDay:N,disabled:m,fullWidth:Y,...j}=n;return e.jsx("button",{...j,ref:v,type:"button",disabled:m,tabIndex:$t({focusable:h,hasValue:l,selected:s,firstInMonth:D}),className:ee("date-picker-cell-content",m&&"date-picker-cell-disabled",f&&"ring-1 ring-inset ring-primary",o&&!m&&"date-picker-cell-weekend",r&&!m&&"date-picker-other-month",r&&g&&"d-none",!r&&!m&&!s&&"date-picker-cell-current-month",!m&&!s&&!b&&"date-picker-cell-hoverable",s&&!m&&"date-picker-cell-selected bg-primary text-neutral",b&&!m&&!u&&!d&&!s&&"bg-primary-subtle",!b&&!u&&!d&&"rounded-full",b&&f&&"date-picker-cell-inrange-today",u&&!m&&"date-picker-cell-selected-start",d&&!m&&"date-picker-cell-selected-end",t),onMouseEnter:x=>i(a,x),children:typeof N=="function"?N(a):a==null?void 0:a.getDate()})};function ke(n,t){return y(new Date(n,1,1)).format(t)}function Ut(n){const t=n-n%10-1,a=[];for(let s=0;s<12;s+=1){const o=t+s;a.push(o)}return a}function _t(n,t="monday"){const a=new Date(n),s=a.getDay(),o=t==="sunday",r=7-(o?s+1:s);return(o&&s!==6||s!==0)&&a.setDate(a.getDate()+r),a}function et(n,t="monday"){const a=new Date(n),s=a.getDay()||7,o=t==="sunday",r=o?s:s-1;return(o&&s!==0||s!==1)&&a.setHours(-24*r),a}function qt(n,t="monday"){const a=n.getMonth(),s=new Date(n.getFullYear(),a,1),o=new Date(n.getFullYear(),n.getMonth()+1,0),r=_t(o,t),i=et(s,t),l=[];for(;i<=r;){const u=[];for(let d=0;d<7;d+=1)u.push(new Date(i)),i.setDate(i.getDate()+1);l.push(u)}return l}function Gt(n,t="MMM"){const a=[],s=new Date(2021,0,1);for(let o=0;o<12;o+=1)a.push(y(s).locale(n).format(t)),s.setMonth(s.getMonth()+1);return a}function Qt(n,t="monday",a="dd"){const s=[],o=et(new Date,t);for(let r=0;r<7;r+=1)s.push(y(o).locale(n).format(a)),o.setDate(o.getDate()+1);return s}function tt(n,t){return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()}function ue(n,t){return tt(n,t)&&n.getDate()===t.getDate()}function Zt(n,t=[0,6]){return t.includes(n.getDay())}function Jt(n,t){return!tt(n,t)}function Xt({minDate:n,maxDate:t,disableDate:a,disableOutOfMonth:s,date:o,outOfMonth:r}){const i=t instanceof Date&&y(t).isBefore(o,"day"),l=n instanceof Date&&y(n).isAfter(o,"day"),u=typeof a=="function"&&a(o);return i||l||u||!!s&&!!r}function ea(n,t){const a=Array.isArray(t)&&t.every(l=>l instanceof Date),s=a&&[y(t[0]).subtract(1,"day"),y(t[1]).add(1,"day")],o=a&&ue(n,t[0]),r=a&&ue(n,t[1]),i=a&&y(n).isAfter(s[0],"day")&&y(n).isBefore(s[1],"day");return{firstInRange:o,lastInRange:r,inRange:i,selectedInRange:o||r}}function He(n){const{date:t,month:a,hasValue:s,minDate:o,maxDate:r,value:i,disableDate:l,disableOutOfMonth:u,range:d,weekendDays:b}=n,f=Jt(t,a),D=s&&(Array.isArray(i)?i.some(m=>ue(m,t)):ue(t,i)),{inRange:h,lastInRange:g,firstInRange:v,selectedInRange:N}=ea(t,d);return{disabled:Xt({minDate:o,maxDate:r,disableDate:l,disableOutOfMonth:u,date:t,outOfMonth:f}),weekend:Zt(t,b),selectedInRange:N,selected:D,inRange:h,firstInRange:v,lastInRange:g,outOfMonth:f}}const we=()=>!1,ta=n=>{const{className:t,month:a,value:s,onChange:o,disableOutOfMonth:r=!1,locale:i,dayClassName:l,dayStyle:u,minDate:d,maxDate:b,disableDate:f,onDayMouseEnter:D,range:h,hideWeekdays:g=!1,fullWidth:v=!1,preventFocus:N=!1,focusable:m=!0,firstDayOfWeek:Y="monday",onDayKeyDown:j,daysRefs:x,hideOutOfMonthDates:k=!1,isDateInRange:c=we,isDateFirstInRange:L=we,isDateLastInRange:G=we,ref:P,renderDay:$,weekdayLabelFormat:ne,weekendDays:Q=[0,6],...H}=n,{locale:B}=xe(),_=i||B,q=qt(a,Y),X=Qt(_,Y,ne).map(I=>e.jsx("th",{className:"week-day-cell",children:e.jsx("span",{className:"week-day-cell-content",children:I})},I)),se=Array.isArray(s)?s.every(I=>I instanceof Date):s instanceof Date,Z=s instanceof Date&&y(s).isAfter(y(a).startOf("month"))&&y(s).isBefore(y(a).endOf("month")),oe={month:a,hasValue:se,minDate:d,maxDate:b,value:s,disableDate:f,disableOutOfMonth:r,range:h,weekendDays:Q},te=w.useMemo(()=>q.flatMap(I=>I).find(I=>{const V=He({...oe,date:I});return!V.disabled&&!V.outOfMonth})||y(a).startOf("month").toDate(),[]),z=q.map((I,V)=>{const K=I.map((T,p)=>{const M=He({...oe,date:T}),J={rowIndex:V,cellIndex:p,date:T};return e.jsx("td",{className:ee("date-picker-cell"),children:e.jsx(Kt,{ref:O=>{x&&(Array.isArray(x[V])||(x[V]=[]),x[V][p]=O)},outOfMonth:M.outOfMonth,weekend:M.weekend,inRange:M.inRange||c(T,M),firstInRange:M.firstInRange||L(T,M),lastInRange:M.lastInRange||G(T,M),firstInMonth:ue(T,te),selected:M.selected||M.selectedInRange,hasValue:Z,className:typeof l=="function"?l(T,M):"",style:typeof u=="function"?u(T,M):{},disabled:M.disabled,fullWidth:v,focusable:m,hideOutOfMonthDates:k,renderDay:$,isToday:ue(T,new Date),value:T,onClick:()=>typeof o=="function"&&o(T),onMouseDown:O=>N&&O.preventDefault(),onKeyDown:O=>typeof j=="function"&&j(J,O),onMouseEnter:typeof D=="function"?D:we})},p)});return e.jsx("tr",{className:ee("date-picker-week-cell"),children:K},V)});return e.jsxs("table",{ref:P,className:ee("picker-table",t),cellSpacing:"0",...H,children:[!g&&e.jsx("thead",{children:e.jsx("tr",{children:X})}),e.jsx("tbody",{children:z})]})};function ce(n){return typeof n!="string"?"":n.charAt(0).toUpperCase()+n.slice(1)}function ze({month:n,locale:t,format:a}){return ce(y(n).locale(t).format(a))}const aa=n=>{const{dateViewCount:t,paginateBy:a,month:s,locale:o,minDate:r,maxDate:i,enableHeaderLabel:l,daysRefs:u,onMonthChange:d,onNextLevel:b,onDayKeyDown:f,className:D,labelFormat:h,weekdayLabelFormat:g,preventFocus:v,renderDay:N,...m}=n,Y=y(s).add(t,"months").toDate(),j=y(s).subtract(1,"months").toDate(),x="picker-header-label hover:text-primary",k=Array(t).fill(0).map((c,L)=>{const G=y(s).add(L,"months").toDate();return e.jsxs("div",{className:"day-picker",children:[e.jsx(Be,{hasNext:L+1===t&&Ae({date:Y,minDate:r,maxDate:i}),hasPrevious:L===0&&Ae({date:j,minDate:r,maxDate:i}),className:D,onNext:()=>d(y(s).add(a,"months").toDate()),onPrevious:()=>d(y(s).subtract(a,"months").toDate()),children:e.jsxs("div",{children:[e.jsx("button",{className:ee(x),disabled:!l,tabIndex:L>0?-1:0,type:"button",onClick:()=>b("month"),onMouseDown:P=>v&&P.preventDefault(),children:ze({month:G,locale:o,format:(h==null?void 0:h.month)||"MMM"})}),e.jsx("button",{className:ee(x),disabled:!l,tabIndex:L>0?-1:0,type:"button",onClick:()=>b("year"),onMouseDown:P=>v&&P.preventDefault(),children:ze({month:G,locale:o,format:(h==null?void 0:h.year)||"YYYY"})})]})}),e.jsx(ta,{month:G,daysRefs:u.current[L],minDate:r,maxDate:i,className:D,locale:o,focusable:L===0,preventFocus:v,renderDay:N,weekdayLabelFormat:g,onDayKeyDown:(...P)=>f(L,...P),...m})]},L)});return e.jsx(e.Fragment,{children:k})},na=n=>{const{className:t,value:a,onChange:s,locale:o,year:r,onYearChange:i,onNextLevel:l,minDate:u,maxDate:d,preventFocus:b,monthLabelFormat:f="MMM",yearLabelFormat:D="YYYY",...h}=n,g=Gt(o,f),v=u instanceof Date?u.getFullYear():void 0,N=d instanceof Date?d.getFullYear():void 0,m=g.map((Y,j)=>{const x=!Ae({date:new Date(r,j),minDate:u,maxDate:d}),k=j===a.month&&r===a.year;return e.jsx("button",{className:ee("month-picker-cell",k&&!x?"month-picker-cell-active bg-primary":"text-gray-800 dark:text-gray-100",!k&&!x&&"hover:bg-gray-100",x&&"month-picker-cell-disabled"),disabled:x,type:"button",onClick:()=>s(j),onMouseDown:c=>b&&c.preventDefault(),children:Y},Y)});return e.jsxs("div",{className:ee("month-picker",t),...h,children:[e.jsx(Be,{label:ke(r,D),hasNext:typeof N=="number"?r<N:!0,hasPrevious:typeof v=="number"?r>v:!0,className:t,nextLabel:"Next year",previousLabel:"Previous year",preventFocus:b,onNext:()=>i(r+1),onPrevious:()=>i(r-1),onNextLevel:l}),e.jsx("div",{className:"month-table",children:m})]})},sa=n=>{const{className:t,value:a,onChange:s,minYear:o,maxYear:r,preventFocus:i,yearLabelFormat:l="YYYY",...u}=n,[d,b]=w.useState(a),f=Ut(d),D=f.map(h=>{const g=h<o||h>r,v=h===a;return e.jsx("button",{disabled:g,className:ee("year-picker-cell",v&&!g?"year-picker-cell-active bg-primary":"text-gray-800 dark:text-gray-100",!v&&!g&&"hover:bg-gray-100",g&&"year-picker-cell-disabled"),type:"button",onClick:()=>s(h),onMouseDown:N=>i&&N.preventDefault(),children:ke(h,l)},h)});return e.jsxs("div",{className:ee("year-picker",t),...u,children:[e.jsx(Be,{nextLevelDisabled:!0,label:`${ke(f[0],l)} - ${ke(f[f.length-1],l)}`,hasPrevious:typeof o=="number"?o<f[0]:!0,hasNext:typeof r=="number"?r>f[f.length-1]:!0,nextLabel:"Next decade",previousLabel:"Previous decade",preventFocus:i,onNext:()=>b(h=>h+10),onPrevious:()=>b(h=>h-10)}),e.jsx("div",{className:"year-table",children:D})]})},at=n=>{const{className:t,dateViewCount:a=1,dayClassName:s,dayStyle:o,defaultMonth:r,defaultView:i="date",disableDate:l,disableOutOfMonth:u,enableHeaderLabel:d=!0,firstDayOfWeek:b="monday",hideOutOfMonthDates:f,hideWeekdays:D,isDateFirstInRange:h,isDateInRange:g,isDateLastInRange:v,labelFormat:N={month:"MMM",year:"YYYY"},locale:m,maxDate:Y,minDate:j,month:x,monthLabelFormat:k="MMM",onChange:c,onDayMouseEnter:L,onMonthChange:G,paginateBy:P=a,preventFocus:$,range:ne,ref:Q,renderDay:H,style:B,value:_,weekdayLabelFormat:q="dd",weekendDays:X,yearLabelFormat:se="YYYY",...Z}=n,{locale:oe}=xe(),[te,z]=w.useState(i),I=m||oe,V=w.useRef(Array(a).fill(0).map(()=>[])),[K,T]=Ye({prop:x,defaultProp:r!==void 0?r:new Date,onChange:G}),[p,M]=w.useState(K==null?void 0:K.getFullYear()),[J,O]=w.useState(K==null?void 0:K.getMonth()),le=j instanceof Date?j.getFullYear():100,me=Y instanceof Date?Y.getFullYear():1e4,de=6,S=(F,E,U,A=1)=>{const ie=["down","up"].includes(F),ae=ie?U.rowIndex+(F==="down"?A:-A):U.rowIndex,re=ie?U.cellIndex:U.cellIndex+(F==="right"?A:-A),fe=V.current[E][ae][re];fe&&(fe.disabled?S(F,E,U,A+1):fe.focus())},W=(F,E,U)=>{var A;switch(U.key){case"ArrowDown":{U.preventDefault(),E.rowIndex+1<V.current[F].length&&S("down",F,E);break}case"ArrowUp":{U.preventDefault(),E.rowIndex>0&&S("up",F,E);break}case"ArrowRight":{U.preventDefault(),E.cellIndex!==de?S("right",F,E):F+1<a&&V.current[F+1][E.rowIndex]&&((A=V.current[F+1][E.rowIndex][0])==null||A.focus());break}case"ArrowLeft":{U.preventDefault(),E.cellIndex!==0?S("left",F,E):F>0&&V.current[F-1][E.rowIndex]&&V.current[F-1][E.rowIndex][de].focus();break}}};return e.jsxs("div",{ref:Q,className:ee("picker-view",t),...Z,children:[te==="year"&&e.jsx(sa,{value:p,minYear:le,maxYear:me,className:t,preventFocus:$,yearLabelFormat:se,onChange:F=>{T(new Date(F,J,1)),M(F),z("date")}}),te==="month"&&e.jsx(na,{value:{month:K.getMonth(),year:K.getFullYear()},year:p,locale:I,minDate:j,maxDate:Y,className:t,style:B,preventFocus:$,yearLabelFormat:se,monthLabelFormat:k,onYearChange:M,onNextLevel:()=>z("year"),onChange:F=>{T(new Date(p,F,1)),O(F),z("date")}}),te==="date"&&e.jsx(aa,{dateViewCount:a,paginateBy:P,month:K,locale:I,minDate:j,maxDate:Y,enableHeaderLabel:d,daysRefs:V,style:B,dayClassName:s,dayStyle:o,disableOutOfMonth:u,disableDate:l,hideWeekdays:D,preventFocus:$,firstDayOfWeek:b,value:_,range:ne,labelFormat:N,weekdayLabelFormat:q,renderDay:H,hideOutOfMonthDates:f,isDateInRange:g,isDateFirstInRange:h,isDateLastInRange:v,weekendDays:X,onMonthChange:T,onNextLevel:F=>z(F),onDayKeyDown:W,onChange:c,onDayMouseEnter:L})]})},nt=n=>{const{multipleSelection:t,value:a,onChange:s,...o}=n,r=i=>{if(!t)return s==null?void 0:s(i);const l=a==null?void 0:a.some(u=>ue(u,i));return s==null?void 0:s(l?a==null?void 0:a.filter(u=>!ue(u,i)):[...a,i])};return e.jsx(at,{value:a,onChange:r,...o})};var Ce={exports:{}},oa=Ce.exports,We;function ra(){return We||(We=1,function(n,t){(function(a,s){n.exports=s()})(oa,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,o,r){var i=o.prototype,l=i.format;r.en.formats=a,i.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,b=function(f,D){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,g,v){var N=v&&v.toUpperCase();return g||D[v]||a[v]||D[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,Y,j){return Y||j.slice(1)})})}(u,d===void 0?{}:d);return l.call(this,b)}}})}(Ce)),Ce.exports}var la=ra();const ia=ot(la);y.extend(ia);const Ee=n=>{const{className:t,clearable:a=!0,clearButton:s,children:o,disabled:r,dropdownOpened:i,inputtable:l,inputtableBlurClose:u=!1,inputLabel:d,inputPrefix:b,inputSuffix:f=e.jsx(Mt,{className:"text-lg"}),name:D,onDropdownOpen:h,onDropdownClose:g,onBlur:v,onFocus:N,onChange:m,onKeyDown:Y,onClear:j,placeholder:x,ref:k=null,setDropdownOpened:c,size:L,type:G}=n,P=()=>{l?H():Q(!i)},$=()=>{c(!1),g==null||g()},ne=a?s?e.jsx("div",{role:"presentation",onClick:j,children:s}):e.jsx(Xe,{className:"text-base",onClick:j}):f?e.jsx(e.Fragment,{children:f}):null,Q=p=>{c(p),p?h==null||h():g==null||g()},H=()=>{c(!0),h==null||h()},B=p=>{typeof Y=="function"&&Y(p),(p.key==="Space"||p.key==="Enter")&&!l&&(p.preventDefault(),H())},_=p=>{v==null||v(p),l&&u&&$()},q=p=>{N==null||N(p)},{refs:X,floatingStyles:se,context:Z}=St({open:i,onOpenChange:Q,placement:"bottom-start",middleware:[Ft(10),Lt({fallbackAxisSideDirection:"start"}),Pt()],whileElementsMounted:zt}),oe=Ot(Z),te=Rt(Z),z=It(Z),I=Tt(Z),{getReferenceProps:V,getFloatingProps:K}=At([l?oe:te,z,I]),T=Vt();return e.jsxs(e.Fragment,{children:[e.jsx(Je,{ref:ye(k,X.setReference),className:t,placeholder:x,size:L,name:D,value:d,readOnly:!l,suffix:ne,prefix:b,autoComplete:"off",type:G,disabled:r,asElement:"input",onKeyDown:B,onClick:P,onChange:m,...V({onBlur:_,onFocus:q})}),i&&e.jsx("div",{ref:X.setFloating,className:"picker",style:se,"aria-labelledby":T,...K(),children:e.jsx("div",{className:"picker-panel",children:o})})]})},$e="YYYY-MM-DD",ca=n=>{const{className:t,clearable:a=!0,clearButton:s,closePickerOnChange:o=!0,dateViewCount:r,dayClassName:i,dayStyle:l,defaultMonth:u,defaultOpen:d=!1,defaultValue:b,defaultView:f,disabled:D=!1,disableDate:h,enableHeaderLabel:g,disableOutOfMonth:v,firstDayOfWeek:N="monday",hideOutOfMonthDates:m,hideWeekdays:Y,inputFormat:j,inputPrefix:x,inputSuffix:k,inputtable:c,labelFormat:L={month:"MMM",year:"YYYY"},locale:G,maxDate:P,minDate:$,name:ne="date",onBlur:Q,onChange:H,onFocus:B,onDropdownClose:_,onDropdownOpen:q,openPickerOnClear:X=!1,renderDay:se,ref:Z=null,size:oe,style:te,type:z,value:I,weekendDays:V,yearLabelFormat:K,...T}=n,{locale:p}=xe(),M=G||p,J=z==="date"?$e:j||$e,[O,le]=w.useState(d),me=w.useRef(null),[de,S]=w.useState(b??null),[W,F]=Ye({prop:I,defaultProp:b,onChange:H}),[E,U]=w.useState(W||u||new Date),[A,ie]=w.useState(!1),[ae,re]=w.useState(W instanceof Date?ce(y(W).locale(M).format(J)):""),fe=()=>{le(!1),_==null||_()},be=()=>{le(!0),q==null||q()};w.useEffect(()=>{W||(P&&y(E).isAfter(P)&&U(P),$&&y(E).isBefore($)&&U($))},[$,P]),w.useEffect(()=>{I===null&&!A&&re(""),I instanceof Date&&!A&&re(ce(y(I).locale(M).format(J)))},[I,A,p]),w.useEffect(()=>{b instanceof Date&&ae&&!A&&re(ce(y(W).locale(M).format(J)))},[p]);const Se=C=>{F(C),re(ce(y(C).locale(M).format(J))),o&&fe(),window.setTimeout(()=>{var De;return(De=me.current)==null?void 0:De.focus()},0)},Fe=()=>{var C;F(null),S(null),re(""),X&&be(),(C=me.current)==null||C.focus()},Me=C=>y(C,J,M).toDate(),ve=()=>{let C=typeof W=="string"?Me(W):W;P&&y(C).isAfter(P)&&(C=P),$&&y(C).isBefore($)&&(C=$),y(C).isValid()?(F(C),S(C),re(ce(y(C).locale(M).format(J))),U(C)):F(de)},Le=C=>{typeof Q=="function"&&Q(C),ie(!1),c&&ve()},Pe=C=>{C.key==="Enter"&&c&&(fe(),ve())},Oe=C=>{typeof B=="function"&&B(C),ie(!0)},R=C=>{be();const De=Me(C.target.value);y(De).isValid()?(F(De),S(De),re(C.target.value),U(De)):re(C.target.value)};return e.jsx(Ee,{ref:ye(Z,me),inputtable:c,dropdownOpened:O,setDropdownOpened:le,size:oe,style:te,className:t,name:ne,inputLabel:ae,clearable:z==="date"?!1:a&&!!W&&!D,clearButton:s,disabled:D,type:z,inputPrefix:x,inputSuffix:k,onChange:R,onBlur:Le,onFocus:Oe,onKeyDown:Pe,onClear:Fe,onDropdownClose:_,onDropdownOpen:q,...T,children:e.jsx(nt,{locale:M,month:c?E:void 0,defaultMonth:u||(W instanceof Date?W:new Date),value:W instanceof Date?W:W&&y(W).toDate(),labelFormat:L,dayClassName:i,dayStyle:l,disableOutOfMonth:v,minDate:$,maxDate:P,disableDate:h,firstDayOfWeek:N,preventFocus:c,dateViewCount:r,enableHeaderLabel:g,defaultView:f,hideOutOfMonthDates:m,hideWeekdays:Y,renderDay:se,weekendDays:V,yearLabelFormat:K,onMonthChange:U,onChange:Se})})},ua=n=>{const{value:t,onChange:a,dayStyle:s,singleDate:o=!1,dateViewCount:r=1,paginateBy:i,ref:l,...u}=n,[d,b]=w.useState(null),[f,D]=w.useState(null),h=m=>{if(f instanceof Date){if(ue(m,f)&&!o)return D(null),b(null),null;const Y=[m,f];return Y.sort((j,x)=>j.getTime()-x.getTime()),a(Y),D(null),null}return t[0]&&ue(m,t[0])&&!o?(D(null),b(null),a([null,null]),null):(a([m,null]),D(m),null)},g=(m,Y)=>{if(f instanceof Date&&d instanceof Date){const j=[d,f];return j.sort((x,k)=>x.getTime()-k.getTime()),!Y.selected&&y(m).subtract(1,"day").isBefore(j[1])&&y(m).add(1,"day").isAfter(j[0])}return!1},v=(m,Y)=>{if(f instanceof Date&&d instanceof Date){const j=[d,f];return j.sort((x,k)=>x.getTime()-k.getTime()),Y.selected&&y(m).isBefore(j[1])}return!1},N=(m,Y)=>{if(f instanceof Date&&d instanceof Date){const j=[d,f];return j.sort((x,k)=>x.getTime()-k.getTime()),Y.selected&&y(m).isAfter(j[0])}return!1};return e.jsx(at,{ref:l,dayStyle:s,value:f,range:t,dateViewCount:r,paginateBy:i||r,hideOutOfMonthDates:r>1,isDateInRange:g,isDateFirstInRange:v,isDateLastInRange:N,onDayMouseEnter:m=>b(m),onChange:m=>h(m),...u})},Ke=n=>Array.isArray(n)&&n.length===2&&n.every(t=>t instanceof Date),da=n=>Array.isArray(n)&&n.length===2&&n[0]instanceof Date,fa=n=>{const{className:t,clearable:a=!0,clearButton:s,closePickerOnChange:o=!0,dateViewCount:r=1,dayClassName:i,dayStyle:l,defaultMonth:u,defaultOpen:d=!1,defaultValue:b,defaultView:f,disabled:D,disableDate:h,enableHeaderLabel:g,disableOutOfMonth:v,firstDayOfWeek:N="monday",hideOutOfMonthDates:m,hideWeekdays:Y,inputFormat:j,inputPrefix:x,inputSuffix:k,labelFormat:c={month:"MMM",year:"YYYY"},separator:L="~",locale:G,maxDate:P,minDate:$,onChange:ne,onDropdownClose:Q,onDropdownOpen:H,openPickerOnClear:B=!1,ref:_=null,renderDay:q,singleDate:X=!1,size:se,style:Z,value:oe,weekendDays:te,yearLabelFormat:z,...I}=n,{locale:V}=xe(),K=G||V,T=j||"YYYY-MM-DD",[p,M]=w.useState(d),J=w.useRef(null),[O,le]=Ye({prop:oe,defaultProp:b!==void 0?b:[null,null],onChange:ne}),me=A=>{le(A),o&&Ke(A)&&(M(!1),Q==null||Q(),window.setTimeout(()=>{var ie;return(ie=J.current)==null?void 0:ie.focus()},0))},de=Ke(O),S=da(O),W=O!=null&&O[0]?ce(y(O[0]).locale(K).format(T)):"",F=O!=null&&O[1]?ce(y(O[1]).locale(K).format(T)):"",E=()=>{var A;le([null,null]),M(!0),B&&(H==null||H()),(A=J.current)==null||A.focus()},U=A=>{!A&&S&&(O==null?void 0:O[1])===null&&E(),M(A)};return e.jsx(Ee,{ref:ye(_,J),dropdownOpened:p,setDropdownOpened:U,size:se,style:Z,className:t,inputLabel:S?`${W} ${L} ${F}`:"",clearable:a&&S,clearButton:s,disabled:D,inputPrefix:x,inputSuffix:k,onClear:E,onDropdownClose:Q,onDropdownOpen:H,...I,children:e.jsx(ua,{locale:K,defaultMonth:de?O==null?void 0:O[0]:u,value:O,labelFormat:c,dayClassName:i,dayStyle:l,disableOutOfMonth:v,minDate:$,maxDate:P,disableDate:h,firstDayOfWeek:N,enableHeaderLabel:g,singleDate:X,dateViewCount:r,defaultView:f,hideOutOfMonthDates:m,hideWeekdays:Y,renderDay:q,weekendDays:te,yearLabelFormat:z,onChange:A=>me(A)})})};function Ue(n,t){const a=w.useRef(!1);w.useEffect(()=>()=>{a.current=!1},[]),w.useEffect(()=>{if(a.current)return n();a.current=!0},t)}function Ve(n,t,a){return Math.min(Math.max(n,t),a)}function ma({amLabel:n,pmLabel:t,onChange:a,nextRef:s}){return(o,r)=>{var u,d;const i=new RegExp(`(^(${n}|${t})?$)`),l=o.toLowerCase();if(l===n||l===t){a(l),r&&((u=s==null?void 0:s.current)==null||u.focus()),r&&((d=s==null?void 0:s.current)==null||d.select());return}i.test(l)&&a(l)}}function pe(n){const t=parseInt(n,10);return t>=10?t.toString():`0${t}`}function Re(n){return Math.floor(n/10)}function Ie({onChange:n,nextRef:t,min:a,max:s,nextMax:o}){return(r,i,l=!1)=>{var d,b;const u=parseInt(r,10);if(!Number.isNaN(u)){if(u>Re(s)||l){const f=u%10;let D,h;u>s&&o&&f<=Re(o)?(D=pe(Re(u).toString()),h=pe(f.toString())):D=pe(Ve(u,a,s).toString()),n(D,h),i&&((d=t==null?void 0:t.current)==null||d.focus()),i&&((b=t==null?void 0:t.current)==null||b.select());return}n(u.toString())}}}function ha(n,t,a,s,o,r){const i=y();let l=parseInt(n,10);const u=parseInt(t,10),d=parseInt(a,10);return Number.isNaN(l)&&(l=0),s==="12"&&(l%=12,r===o&&(l+=12)),i.hour(l).minute(Number.isNaN(u)?0:u).second(Number.isNaN(d)?0:d).millisecond(0).toDate()}function _e(n,t,a,s){if(!(n instanceof Date))return{hours:"",minutes:"",seconds:"",amPm:""};let o=n.getHours();const r=o>=12;return t==="12"&&(o%=12,o===0&&(o+=12)),{hours:pe(o.toString()),minutes:pe(n.getMinutes().toString()),seconds:pe(n.getSeconds().toString()),amPm:r?s:a}}const Te=n=>{const{className:t,onFocus:a,onBlur:s,onChange:o,ref:r=null,setValue:i,withSeparator:l=!1,max:u,min:d=0,value:b,...f}=n,[D,h]=w.useState(0),g=w.useRef(void 0),v=x=>{var k;typeof a=="function"&&a(x),(k=g==null?void 0:g.current)==null||k.select(),h(0)},N=x=>{typeof s=="function"&&s(x),D===1&&typeof o=="function"&&o(x.currentTarget.value,!1)},m=x=>{var k;x.stopPropagation(),(k=g==null?void 0:g.current)==null||k.select()},Y=x=>{if(x.key==="ArrowUp"){x.preventDefault();const k=pe(Ve(parseInt(x.currentTarget.value,10)+1,d,u).toString());b!==k&&o(k,!1)}if(x.key==="ArrowDown"){x.preventDefault();const k=pe(Ve(parseInt(x.currentTarget.value,10)-1,d,u).toString());b!==k&&o(k,!1)}},j=x=>{h(D+1);const k=parseInt(x.currentTarget.value,10).toString();if(k==="0"&&D===0){i("00");return}o(k,!0,D>0)};return e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:ye(g,r),type:"text",inputMode:"numeric",value:b,className:ee("time-input-field",t),onChange:j,onClick:m,onFocus:v,onBlur:N,onKeyDown:Y,...f}),l&&e.jsx("span",{children:" : "})]})},ga=n=>{const{className:t,onChange:a,onFocus:s,value:o,amLabel:r,pmLabel:i,ref:l=null,...u}=n,d=w.useRef(void 0),b=g=>{var v;g.stopPropagation(),(v=d==null?void 0:d.current)==null||v.select()},f=g=>{(g.key==="ArrowUp"||g.key==="ArrowDown")&&(g.preventDefault(),a(o===r?i:r,!0))},D=g=>{var v;typeof s=="function"&&s(g),(v=d==null?void 0:d.current)==null||v.select()},h=g=>{const v=g.target.value.slice(-1).toLowerCase();if(v==="p"){g.preventDefault(),a(i,!0);return}if(v==="a"){g.preventDefault(),a(r,!0);return}a(o.toString(),!0)};return e.jsx("input",{ref:ye(d,l),type:"text",value:o,className:ee("time-input-field","am-pm-input",t),onClick:b,onFocus:D,onKeyDown:f,onChange:h,...u})},pa=n=>{var T;const{amLabel:t="am",amPmPlaceholder:a="am",className:s,clearable:o=!0,defaultValue:r,disabled:i=!1,format:l="24",id:u,invalid:d,name:b,nextRef:f,onChange:D,pmLabel:h="pm",prefix:g,ref:v=null,showSeconds:N=!1,size:m="md",style:Y,suffix:j=e.jsx(vt,{className:"text-lg"}),timeFieldPlaceholder:x="--",timeFieldClass:k,value:c,...L}=n,G=Wt(u),P=w.useRef(void 0),$=w.useRef(void 0),ne=w.useRef(void 0),Q=w.useRef(void 0),[H,B]=w.useState(_e(c||r,l,t,h)),[_,q]=w.useState(c||r),X=(T=Ct())==null?void 0:T.invalid,se=d||X;Ue(()=>{B(_e(_,l,t,h))},[_,l,t,h]),Ue(()=>{(c==null?void 0:c.getTime())!==(_==null?void 0:_.getTime())&&q(c)},[c]);const Z=p=>{const M={...H,...p},J=ha(M.hours,M.minutes,M.seconds,l,h,M.amPm);q(J),typeof D=="function"&&D(J)},oe=Ie({onChange:(p,M)=>{Z({hours:p,minutes:M??H.minutes})},min:l==="12"?1:0,max:l==="12"?12:23,nextRef:$,nextMax:59}),te=Ie({onChange:(p,M)=>{Z({minutes:p,seconds:M??H.seconds})},min:0,max:59,nextRef:N?ne:l==="12"?Q:f,nextMax:N?59:void 0}),z=Ie({onChange:p=>{Z({seconds:p})},min:0,max:59,nextRef:l==="12"?Q:f}),I=ma({amLabel:t,pmLabel:h,onChange:p=>{Z({amPm:p})},nextRef:f}),V=()=>{var p;B({hours:"",minutes:"",seconds:"",amPm:""}),q(null),D==null||D(null),(p=P==null?void 0:P.current)==null||p.focus()},K=o&&_?e.jsx(Xe,{onClick:V}):j;return e.jsx(Je,{asElement:"div",invalid:se,disabled:i,style:Y,className:s,size:m,prefix:g,suffix:K,onClick:()=>{var p;return(p=P==null?void 0:P.current)==null?void 0:p.focus()},...L,children:e.jsxs("div",{className:"time-input-wrapper",children:[e.jsx(Te,{ref:ye(P,v),withSeparator:!0,value:H.hours,setValue:p=>B(M=>({...M,hours:p})),id:G,className:k,max:l==="12"?12:23,placeholder:x,"aria-label":"hours",disabled:i,name:b,onChange:oe}),e.jsx(Te,{ref:$,value:H.minutes,setValue:p=>B(M=>({...M,minutes:p})),className:k,withSeparator:N,max:59,placeholder:x,"aria-label":"minutes",disabled:i,onChange:te}),N&&e.jsx(Te,{ref:ne,value:H.seconds,setValue:p=>B(M=>({...M,seconds:p})),className:k,max:59,placeholder:x,"aria-label":"seconds",disabled:i,onChange:z}),l==="12"&&e.jsx(ga,{ref:Q,value:H.amPm,placeholder:a,amLabel:t,pmLabel:h,"aria-label":"am pm",disabled:i,onChange:I})]})})},Da="DD-MMM-YYYY hh:mm a",st=n=>{const{amPm:t=!0,className:a,clearable:s=!0,closePickerOnChange:o=!1,dateViewCount:r,dayClassName:i,dayStyle:l,defaultMonth:u,defaultOpen:d=!1,defaultValue:b,defaultView:f,disabled:D=!1,disableDate:h,enableHeaderLabel:g,disableOutOfMonth:v,firstDayOfWeek:N="monday",hideOutOfMonthDates:m,hideWeekdays:Y,inputFormat:j,inputPrefix:x,inputSuffix:k,inputtable:c,labelFormat:L={month:"MMM",year:"YYYY"},locale:G,maxDate:P,minDate:$,name:ne="dateTime",okButtonContent:Q="OK",onBlur:H,onChange:B,onFocus:_,onDropdownClose:q,onDropdownOpen:X,openPickerOnClear:se,ref:Z=null,renderDay:oe,size:te,value:z,weekendDays:I,yearLabelFormat:V,...K}=n,{locale:T}=xe(),p=G||T,M=j||Da,[J,O]=w.useState(d),le=w.useRef(null),[me,de]=w.useState(b??null),[S,W]=Ye({prop:z,defaultProp:b,onChange:B}),[F,E]=w.useState(S||u||new Date),[U,A]=w.useState(!1),[ie,ae]=w.useState(S instanceof Date?ce(y(S).locale(p).format(M)):""),re=()=>{O(!1),q==null||q()},fe=()=>{O(!0),X==null||X()};w.useEffect(()=>{z===null&&!U&&ae(""),z instanceof Date&&!U&&ae(y(z).locale(p).format(M))},[z,U]);const be=R=>{if(S)R.setHours(S.getHours()),R.setMinutes(S.getMinutes());else{const C=new Date(Date.now());R.setHours(C.getHours()),R.setMinutes(C.getMinutes())}W(R),!z&&!o&&ae(y(R).locale(p).format(M)),o&&ae(ce(y(R).locale(p).format(M))),o&&re(),window.setTimeout(()=>{var C;return(C=le.current)==null?void 0:C.focus()},0)},Se=()=>{var R;W(null),de(null),ae(""),se&&fe(),(R=le.current)==null||R.focus(),B==null||B(null)},Fe=R=>y(R,M,p).toDate(),Me=R=>{typeof H=="function"&&H(R),A(!1)},ve=R=>{typeof _=="function"&&_(R),A(!0)},Le=R=>{fe();const C=Fe(R.target.value);y(C).isValid()?(W(C),de(C),o&&ae(R.target.value),E(C)):o&&ae(R.target.value)},Pe=R=>{if(S instanceof Date&&R instanceof Date){const C=new Date(S.getFullYear(),S.getMonth(),S.getDate(),R.getHours(),R.getMinutes(),R.getSeconds(),R.getMilliseconds());W(C),!z&&!o&&ae(ce(y(C).locale(p).format(M))),o&&ae(ce(y(C).locale(p).format(M)))}o&&re()},Oe=()=>{ae(ce(y(S).locale(p).format(M))),re(),window.setTimeout(()=>{var R;return(R=le.current)==null?void 0:R.focus()},0),B==null||B(S)};return e.jsxs(Ee,{ref:ye(Z,le),dropdownOpened:J,setDropdownOpened:O,className:a,name:ne,inputLabel:ie,clearable:s&&!!S&&!D,disabled:D,size:te,inputPrefix:x,inputSuffix:k,onChange:Le,onBlur:Me,onFocus:ve,onClear:Se,onDropdownClose:q,onDropdownOpen:X,...K,children:[e.jsx(nt,{locale:p,month:c?F:void 0,defaultMonth:u||(S instanceof Date?S:new Date),value:S instanceof Date?S:S&&y(S).toDate(),labelFormat:L,dayClassName:i,dayStyle:l,disableOutOfMonth:v,minDate:$,maxDate:P,disableDate:h,firstDayOfWeek:N,preventFocus:!1,dateViewCount:r,enableHeaderLabel:g,defaultView:f,hideOutOfMonthDates:m,hideWeekdays:Y,renderDay:oe,weekendDays:I,yearLabelFormat:V,onMonthChange:E,onChange:be}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsx(pa,{disabled:!S,value:S,format:t?"12":"24",clearable:!1,size:"sm",onChange:Pe}),e.jsx(je,{size:"sm",disabled:!S,onClick:Oe,children:Q})]})]})};st.displayName="DateTimepicker";const Ne=ca;Ne.DatePickerRange=fa;Ne.DateTimepicker=st;const{Tr:qe,Th:he,Td:ge,THead:ya,TBody:xa}=Ze;async function Ge(n,t,a){return ut.fetchDataWithAxios({url:`/get-sales-list/${n}/${t.startDate}/${t.endDate}/${a}`,method:"get"})}const Qe=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],Va=()=>{const n=rt(),{transfer:t}=lt(),[a,s]=w.useState([]),[o,r]=w.useState(!0),[i,l]=w.useState(null),[u,d]=w.useState([]),[b,f]=w.useState(!1),[D,h]=w.useState([null,null]),{user:g}=it();w.useEffect(()=>{Ge(g.id,{startDate:"undefined",endDate:"undefined"},t).then(c=>{s(c)}).catch(c=>{var L;l(((L=c==null?void 0:c.response)==null?void 0:L.data)||c.toString())}).finally(()=>{r(!1)})},[]);const v=c=>{c[0]===null||c[1]===null||(r(!0),h(c),Ge(g.id,{startDate:y(c[0]).format("YYYY-MM-DD"),endDate:y(c[1]).format("YYYY-MM-DD")}).then(L=>{s(L)}).catch(L=>{var G;l(((G=L==null?void 0:L.response)==null?void 0:G.data)||L.toString())}).finally(()=>{r(!1)}))},N=a.length,m=dt({data:a,getCoreRowModel:gt(),getFilteredRowModel:ht(),getPaginationRowModel:mt(),getSortedRowModel:ft()}),Y=c=>{m.setPageIndex(c-1)},j=(c=0)=>{m.setPageSize(Number(c))},x=c=>{d(c),f(!0)},k=c=>{n("/user/invoice2",{state:c})};return i?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:i.message}),e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by date:"}),e.jsx(Ne.DatePickerRange,{placeholder:"Select dates range",value:D,inputFormat:"DD MMM, YYYY",separator:"to",onChange:v,className:"w-64 mb-4 ml-4"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by date:"}),e.jsx(Ne.DatePickerRange,{placeholder:"Select dates range",value:D,inputFormat:"DD MMM, YYYY",separator:"to",onChange:v,className:"w-64 mb-4 ml-4"})]}),e.jsxs(kt,{children:[e.jsxs(Ze,{children:[e.jsx(ya,{children:e.jsxs(qe,{children:[e.jsx(he,{children:"Sl No"}),e.jsx(he,{children:"Name"}),e.jsx(he,{children:"Phone"}),e.jsx(he,{children:"City"}),e.jsx(he,{children:"Amount"}),e.jsx(he,{children:"Items"}),e.jsx(he,{children:"Date"}),e.jsx(he,{children:"Action"})]})}),o?e.jsx(pt,{columns:6,rows:10,avatarInColumns:[2,3,5],avatarProps:{width:28,height:28}}):e.jsx(xa,{children:m.getRowModel().rows.map(c=>e.jsxs(qe,{children:[e.jsx(ge,{children:c.index+1}),e.jsx(ge,{className:c.original.myshopee_order_id?"text-blue-500":"",children:c.original.name}),e.jsx(ge,{children:c.original.phone}),e.jsx(ge,{children:c.original.city}),e.jsx(ge,{children:c.original.amount}),e.jsx(ge,{children:e.jsx("div",{className:"flex items-center",children:e.jsx(Nt,{className:"mr-2",innerClass:"bg-blue-500",content:c.original.items.length,children:e.jsx(Bt,{title:"View items",children:e.jsx(je,{onClick:()=>x(c.original.items),shape:"circle",size:"sm",icon:e.jsx(wt,{})})})})})}),e.jsx(ge,{children:y.unix(c.original.created_at).format("D MMM, YYYY h:mm a")}),e.jsx(ge,{children:e.jsx(je,{onClick:()=>k(c.original),shape:"circle",size:"sm",icon:e.jsx(jt,{})})})]},c.original.id))})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(Dt,{pageSize:m.getState().pagination.pageSize,currentPage:m.getState().pagination.pageIndex+1,total:N,onChange:Y}),e.jsx("div",{style:{minWidth:130},children:e.jsx(yt,{size:"sm",isSearchable:!1,value:Qe.filter(c=>c.value===m.getState().pagination.pageSize),options:Qe,onChange:c=>j(c==null?void 0:c.value)})})]})]}),e.jsxs(Yt,{isOpen:b,onClose:()=>f(!1),onRequestClose:()=>f(!1),children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h4",{className:"mb-1",children:"Ordered items"})}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"mb-6",children:e.jsx(Ht,{className:ct("overflow-y-auto h-80"),children:u==null?void 0:u.map(c=>e.jsxs("div",{className:"py-3 pr-5 rounded-lg flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{size:"lg",shape:"round",src:c.img_url}),e.jsxs("div",{children:[e.jsx("p",{className:"heading-text font-bold",children:c.name}),e.jsxs("p",{children:["Price: â‚¹",c.amount]})]})]})}),e.jsxs("div",{children:["Qnt:",e.jsx("span",{className:"heading-text font-bold",children:c.quantity})]})]},c.id))})})}),e.jsx(je,{block:!0,type:"button",variant:"solid",onClick:()=>f(!1),children:"Close"})]})]})};export{Va as default};
